# OpenCue RQD Configuration for Windows Lab Machines
# Location: %LOCALAPPDATA%\OpenCue\rqd.conf
#
# IMPORTANT: Update OVERRIDE_CUEBOT with your Linux server hostname/IP

[Override]
# === REQUIRED: Set your Cuebot server ===
OVERRIDE_CUEBOT = YOUR_LINUX_SERVER_HOSTNAME

# === Desktop/Lab Machine Settings ===
# Enable NIMBY (idle detection) for shared lab machines
OVERRIDE_NIMBY = True
OVERRIDE_IS_DESKTOP = True

# Windows cannot switch users like Linux
RQD_BECOME_JOB_USER = False

# Use host's PATH for finding executables (Maya, Arnold, etc.)
RQD_USE_PATH_ENV_VAR = 1

# === NIMBY Idle Detection Settings ===
# How often to check if user is idle (seconds)
CHECK_INTERVAL_LOCKED = 60

# Time after last input before unlocking for renders (seconds)
# 300 = 5 minutes, 600 = 10 minutes, 900 = 15 minutes
MINIMUM_IDLE = 300

# Minimum free memory required to accept jobs (KB)
# 2097152 = 2GB, 4194304 = 4GB
MINIMUM_MEM = 2097152

# === Facility Configuration ===
# Must match facility in Cuebot (default is 'local')
DEFAULT_FACILITY = local

# === Logging ===
CONSOLE_LOG_LEVEL = INFO
FILE_LOG_LEVEL = WARNING
RQD_PREPEND_TIMESTAMP = 0

# Max log file size per job (1GB)
JOB_LOG_MAX_SIZE_IN_BYTES = 1073741824

# === Network ===
# RQD listens on this port (Cuebot connects here)
RQD_GRPC_PORT = 8444

# Use hostname instead of IP when registering
RQD_USE_IP_AS_HOSTNAME = 0

# === Temp Directories ===
RQD_TMPDIR = C:\tmp\rqd

# === GPU Support ===
# Set to True if machines have GPUs for Arnold GPU rendering
GPU = False

# === Resource Overrides (optional) ===
# Uncomment to override auto-detected values
# OVERRIDE_CORES = 8
# OVERRIDE_MEMORY = 16384000

# === Environment Variables to Pass to Jobs ===
# These host variables are copied to the job environment
[UseHostEnvVar]
SYSTEMDRIVE
SYSTEMROOT
TEMP
TMP
PATH
PYTHONPATH
MAYA_LOCATION
MAYA_MODULE_PATH
MAYA_SCRIPT_PATH
MAYA_PLUG_IN_PATH
ARNOLD_PATH
SOLIDANGLE_LICENSE
