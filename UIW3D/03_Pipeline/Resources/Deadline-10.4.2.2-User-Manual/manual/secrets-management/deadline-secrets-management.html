
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Deadline Secrets Management &#8212; Deadline 10.4.2.2 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/thinkbox.css" />
    
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Getting Started With Deadline Secrets Management" href="deadline-secrets-management-getting-started.html" />
    <link rel="prev" title="Administrative Features" href="../index-admin-features.html" />
 
<script src='/static/shortbreadv1.js'></script>
<script>
    shortbread = AWSCShortbread({domain: ".thinkboxsoftware.com"});
    shortbread.checkForCookieConsent();
</script>

  </head><body>
    
    <div class="header">
    <b>Notice:</b> On November 7, 2025, AWS Thinkbox Deadline 10 will enter maintenance mode. We recommend exploring <a href="https://aws.amazon.com/deadline-cloud/" target="_blank", rel="noopener">AWS Deadline Cloud</a> for render management.<br />
    For questions, contact <a href="mailto:support@awsthinkbox.zendesk.com">support@awsthinkbox.zendesk.com</a> or refer to the <a href="https://docs.thinkboxsoftware.com/products/deadline/latest/1_User%20Manual/manual/maintenance-mode-faq.html", target="_blank", rel="noopener">Maintenance Mode FAQ</a>.
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="deadline-secrets-management-getting-started.html" title="Getting Started With Deadline Secrets Management"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="../index-admin-features.html" title="Administrative Features"
             accesskey="P">previous</a> |</li>
	<li><img src="../../_static/logo.png" alt="Logo" style="vertical-align: middle"/></li>
	<li><a href="https://www.awsthinkbox.com/">AWS Thinkbox</a> &#187;</li>
	<li><a href="https://docs.thinkboxsoftware.com/">Documentation</a> &#187;</li>
	<li><a href="../../index.html">Deadline 10.4.2.2</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="../../index-linear.html" >Index</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../index-admin-features.html" accesskey="U">Administrative Features</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Deadline Secrets Management</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="deadline-secrets-management">
<span id="deadline-secrets-management-ref-label"></span><h1>Deadline Secrets Management<a class="headerlink" href="#deadline-secrets-management" title="Permalink to this headline">¶</a></h1>
<p>Deadline Secrets Management is a feature introduced in Deadline 10.1.10 for securely managing storage and access of <a class="reference internal" href="#deadline-secrets-management-glossary-ref-label"><span class="std std-ref">Secrets</span></a> for your render farm. This feature provides strong encryption for all of Deadline’s <a class="reference internal" href="#secret-ref-label"><span class="std std-ref">Secrets</span></a>, and provides additional tools for administrators to control secret access by clients. This feature also includes granular audit logging so you know who requests secrets when, and what the outcome is.</p>
<p>This feature is enabled by running the <a class="reference internal" href="../install-db-repo.html#install-db-repo-ref-label"><span class="std std-ref">Repository Installer</span></a>, and requires you to create an Administrator User. Access to secrets is controlled through the <a class="reference internal" href="#identity-management-ref-label"><span class="std std-ref">Identity Management</span></a> mechanism. Note that this feature requires all Client communications connect to the <a class="reference internal" href="../remote-connection-server.html#remote-connection-server-ref-label"><span class="std std-ref">Remote Connection Server</span></a> over a SSL/TLS connection to securely Authenticate and Authorize requests. You may refer to the <a class="reference internal" href="#deadline-secrets-management-glossary-ref-label"><span class="std std-ref">Glossary</span></a> for definitions on the common terms used throughout this page.</p>
<p>Please see the <a class="reference internal" href="deadline-secrets-management-getting-started.html#deadline-secrets-management-getting-started-ref-label"><span class="std std-ref">Getting Started</span></a> page for an example walkthrough if this is your first time using Deadline Secrets Management.</p>
<div class="section" id="identity-management-ref-label">
<span id="identity-management"></span><h2>Identity Management<a class="headerlink" href="#identity-management-ref-label" title="Permalink to this headline">¶</a></h2>
<p>Any Deadline application connected to your farm will automatically register itself as an <a class="reference internal" href="#deadline-secrets-management-glossary-ref-label"><span class="std std-ref">Identity</span></a> in the Database. However, it will be unable to retrieve or store any secret until it is given the appropriate Status and Role. Please see the below sections for more information on “Registration Status” and the “Assigned Role”.
Note that Power User is not a Secrets Management Identity, but a separate mechanism that only controls access to the administrative features in Deadline Monitor.</p>
<div class="section" id="registration-status">
<span id="identity-management-status-ref-label"></span><h3>Registration Status<a class="headerlink" href="#registration-status" title="Permalink to this headline">¶</a></h3>
<p>Indicates the Registration status of an Identity. There are three possible Registration statuses:</p>
<p><strong>Pending</strong></p>
<blockquote>
<div><p>This is the default status for an Identity that has just registered itself. It cannot access any secrets with this status.</p>
</div></blockquote>
<p><strong>Registered</strong></p>
<blockquote>
<div><p>This status allows Identities to make use of the Secrets API, so long as they have the appropriate <a class="reference internal" href="#identity-management-roles-ref-label"><span class="std std-ref">Identity Role</span></a>.</p>
</div></blockquote>
<p><strong>Revoked</strong></p>
<blockquote>
<div><p>Identities with this status will not be allowed to make use of the Secrets API.</p>
</div></blockquote>
</div>
<div class="section" id="assigned-roles">
<span id="identity-management-roles-ref-label"></span><h3>Assigned Roles<a class="headerlink" href="#assigned-roles" title="Permalink to this headline">¶</a></h3>
<p>Assigned Roles define the permissions of an Identity. There are three Assigned Roles:</p>
<p><strong>Administrator</strong></p>
<blockquote>
<div><p>The administrator role is given to users that are created either by the <a class="reference internal" href="../install-db-repo.html#install-db-repo-ref-label"><span class="std std-ref">Repository Installer</span></a> when enabling the Deadline Secrets Management feature for the first time, or by running the <a class="reference internal" href="#deadline-secrets-management-command-createnewadmin"><span class="std std-ref">CreateNewAdmin command</span></a>. Note: there can be more than one Administrator user. All Administrators are equal and have full read and write access to all secrets.</p>
</div></blockquote>
<p><strong>Server</strong></p>
<blockquote>
<div><p>The Server role is intended to be granted to your machine(s) running the <a class="reference internal" href="../remote-connection-server.html#remote-connection-server-ref-label"><span class="std std-ref">Remote Connection Server</span></a> application. The Server role is granted to a registered machine by an administrator in the <a class="reference internal" href="#identity-management-assigning-ref-label"><span class="std std-ref">Monitor UI</span></a>. In order to encrypt and decrypt secrets, the master key must be assigned to the Server by and Administrator user running the <a class="reference internal" href="#deadline-secrets-management-command-grantkeyaccesstoserver"><span class="std std-ref">GrantKeyAccessToServer command</span></a>. Servers can encrypt and decrypt all secrets, and are responsible for providing secrets to approved clients.</p>
</div></blockquote>
<p><strong>Client</strong></p>
<blockquote>
<div><p>The Client role is typically intended to be granted to any of your machines running the <a class="reference internal" href="../worker.html#worker-ref-label"><span class="std std-ref">Worker</span></a> application. The Client role is granted to a registered machine by an administrator in the <a class="reference internal" href="#identity-management-assigning-ref-label"><span class="std std-ref">Monitor UI</span></a>. Clients can request storage of secrets not in the <a class="reference internal" href="#deadline-secrets-management-secret-namespace-ref-label"><span class="std std-ref">Administrator Secret Access Level</span></a>, and can retrieve secrets from all namespaces when authenticating through the server.</p>
</div></blockquote>
</div>
<div class="section" id="assigning-identity-status-and-roles">
<span id="identity-management-assigning-ref-label"></span><h3>Assigning Identity Status and Roles<a class="headerlink" href="#assigning-identity-status-and-roles" title="Permalink to this headline">¶</a></h3>
<p>Identities are managed through the <a class="reference internal" href="../monitor.html#monitor-ref-label"><span class="std std-ref">Monitor application</span></a>. Note that this interface is only available through Remote Connection to a <a class="reference internal" href="../remote-connection-server.html#remote-connection-server-ref-label"><span class="std std-ref">Remote Connection Server</span></a> and requires Administrator credentials to access.</p>
<p>As a Power User, select “Tools &gt; Manage Identities…” and enter your administrator credentials in the popup. This will open the Manage Identities user interface, where you can set the status and roles of any registered Identities.</p>
<img alt="../../_images/monitor_manage_identities_menu.png" src="../../_images/monitor_manage_identities_menu.png" />
<img alt="../../_images/monitor_2.png" src="../../_images/monitor_2.png" />
<img alt="../../_images/monitor_manage_identities_page.png" src="../../_images/monitor_manage_identities_page.png" />
</div>
<div class="section" id="removing-identities">
<span id="identity-management-removing-ref-label"></span><h3>Removing Identities<a class="headerlink" href="#removing-identities" title="Permalink to this headline">¶</a></h3>
<p>In the same Manage Identities menu used for assigning status and roles to identities, there is a Remove button that will let you remove identities that you no longer want to keep entries for. An example of where this could be useful is for Spot Fleet instances that were running Deadline Workers and connected to the farm, but have since been terminated and you no longer have access to. After selecting one or more identities and pressing the Remove button, the registration status column will change to <code class="code docutils literal notranslate"><span class="pre">Removed</span></code> to signify that the entry for this identity will be removed after pressing the OK button to close the Manage Identities menu. Note that while this does show in the registration status column, this isn’t an actual registration status and will completely remove the entry for this identity from the database. The next time the Manage Identity menu is opened, the entry will no longer appear. See the image below for an example of what an entry looks like when the Remove button has been pressed and it is marked for removal.</p>
<img alt="../../_images/monitor_manage_identities_remove.png" src="../../_images/monitor_manage_identities_remove.png" />
</div>
<div class="section" id="identity-management-registration-settings-ref-label">
<span id="identity-registration-settings"></span><h3>Identity Registration Settings<a class="headerlink" href="#identity-management-registration-settings-ref-label" title="Permalink to this headline">¶</a></h3>
<p>An alternative to manually <a class="reference internal" href="#identity-management-assigning-ref-label"><span class="std std-ref">Assigning Identity Status and Roles</span></a> is creating Registration Settings that will be applied to any connecting client when they register for the first time. These settings can be used to automatically set the Registration Status and Assigned Role of a registering client that matches the given filters. Note that only a valid administrator user can access these settings through the <a class="reference internal" href="../monitor.html#monitor-ref-label"><span class="std std-ref">Monitor application’s</span></a> Manage Identities user interface.</p>
<p>There are two types of Registration Settings that can be applied. The first type is to be used when clients connect directly to the RCS and the other is for when a load balancer is set up in front of the RCS. Generally, you should only need to use one type or the other. If you do use both types, be aware that when registration settings are being compared to a new client to see if they should be applied, the load balancer registration settings will be checked first and if a match is found, no other registration settings will be checked and the settings from the matching one will be applied. There is no guaranteed order for how registration settings of the same type will be checked, so it is important to be sure that the filters you’re using on each registration setting don’t overlap with other registration settings.</p>
<p id="identity-management-rcs-direct-registration-settings-ref-label"><strong>RCS Direct Registration Settings</strong></p>
<img alt="../../_images/monitor_registration_settings.png" src="../../_images/monitor_registration_settings.png" />
<p>Each field will be explained below:</p>
<ul class="simple">
<li><p><strong>Name</strong>: The optional name of this specific registration setting.</p></li>
<li><p><strong>Enabled</strong>: If set to “True”, these settings will be applied, if “False”, these settings will never be used.</p></li>
<li><dl class="simple">
<dt><strong>Client Filter Type</strong>: What type of filtering strategy will be used.</dt><dd><ul>
<li><dl class="simple">
<dt><strong>IPv4 Match</strong>: Applies the settings to a registering client based on the IP Address of the connection (for example, if your client has its traffic routed through a load balancer, the IP will be matched to that of the load balancer). You can specify specific IP addresses, or a range of IP addresses (by using wildcards or ranges). Note that this only works with IPv4. Do not use this for IPv6 addresses. For example:</dt><dd><ul>
<li><p>192.168.0.1-150</p></li>
<li><p>192.168.0.151-255</p></li>
<li><p>192.168.0.*</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>IPRegex Match</strong>: Applies the settings to a registering client based on the IP Address of the connection (for example, if your client has its traffic routed through a load balancer, the IP will be matched to that of the load balancer). You can use regular expressions to match a Client’s IP address. This works with both IPv4 and IPv6 addresses. For example:</dt><dd><ul>
<li><p>192.168..* will match IPv4 addresses not transported inside IPv6 starting with “192.168”.</p></li>
<li><p>[:fF]*192.168. should match IPv4 address even if they are carried over IPv6 addresses (ex “::ffff:192.168.2.128”).</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>Client Filter</strong>: The value of the filter, which will behave differently depending on the <strong>Client Filter Type</strong>.</dt><dd><ul>
<li><p><strong>Note</strong>: Filter values that are too permissive (for example, the value of “*”, which would apply to any client IP) will not be allowed due to the risk of allowing secret access to any connecting client</p></li>
</ul>
</dd>
</dl>
</li>
<li><p><strong>Default Status</strong>: The <a class="reference internal" href="#identity-management-status-ref-label"><span class="std std-ref">Registration Status</span></a> that will be applied to the registering client that matches the filter.</p></li>
<li><p><strong>Default Role</strong>: The <a class="reference internal" href="#identity-management-roles-ref-label"><span class="std std-ref">Assigned Role</span></a> that will be applied to the registering client that matches the filter.</p></li>
</ul>
<p id="identity-management-lb-registration-settings-ref-label"><strong>Load Balancer Registration Settings</strong></p>
<img alt="../../_images/monitor_registration_settings_lb.png" src="../../_images/monitor_registration_settings_lb.png" />
<p>When a load balancer is being used, the connecting IP addresses observed by the RCS will always be those from the load balancer, so creating rules based solely on this field won’t work. These registration settings add an additional filter so the IP addresses of the load balancer can be specified along with the IP addresses of the client. The RCS will then compare the connecting IP it observes to the load balancer filter and the source IP it observes to the client filter. The source IP is determined by checking the request to see if an <code class="code docutils literal notranslate"><span class="pre">X-Forwarded-For</span></code> header was added by the load balancer. If it is present, it will be used, otherwise the source IP will be set to the connecting IP.</p>
<p>The reason both connecting IP and source IP are used, instead of just the source IP, is to prevent clients from being able to spoof their source IP and have registration settings applied.</p>
<p>Most fields have the same meaning they do for the <a class="reference internal" href="#identity-management-rcs-direct-registration-settings-ref-label"><span class="std std-ref">RCS Direct Registration Settings</span></a>. The only difference is there are 2 filters instead of one. The <code class="code docutils literal notranslate"><span class="pre">LB</span> <span class="pre">Filter</span> <span class="pre">Type</span></code> and <code class="code docutils literal notranslate"><span class="pre">LB</span> <span class="pre">IP</span> <span class="pre">Filter</span></code> will be applied to the connecting IP address the RCS observes and the <code class="code docutils literal notranslate"><span class="pre">Client</span> <span class="pre">Filter</span> <span class="pre">Type</span></code> and <code class="code docutils literal notranslate"><span class="pre">Client</span> <span class="pre">IP</span> <span class="pre">Filter</span></code> will be applied to the source IP.</p>
</div>
<div class="section" id="rotating-master-keys">
<span id="identity-management-rotating-master-keys-ref-label"></span><h3>Rotating Master Keys<a class="headerlink" href="#rotating-master-keys" title="Permalink to this headline">¶</a></h3>
<p>Also in the Manage Identities menu, there is a tab that can be used to mark master keys for rotation. Master keys are used to securely encrypt and decypt secrets in the database. More information can be found in the <a class="reference internal" href="#deadline-secrets-management-master-key-ref-label"><span class="std std-ref">Master Keys</span></a> section.</p>
<p>Master keys get marked for rotation by selecting one in the menu, pressing the rotate button, and then pressing OK to close the Manage Identities menu. Once the menu has been closed, a key rotation will be requested and then automatically executed by a running RCS.</p>
<p>When the Manage Identities menu gets opened again after the rotation is complete, the version should be increased by 1 and the <code class="code docutils literal notranslate"><span class="pre">Creator</span></code> column should now list the identity of the RCS machine that performed the rotation.</p>
<img alt="../../_images/monitor_rotate_master_keys.png" src="../../_images/monitor_rotate_master_keys.png" />
<img alt="../../_images/monitor_rotate_master_keys_after.png" src="../../_images/monitor_rotate_master_keys_after.png" />
</div>
</div>
<div class="section" id="secret">
<span id="secret-ref-label"></span><h2>Secret<a class="headerlink" href="#secret" title="Permalink to this headline">¶</a></h2>
<p>A secret is any value that needs to be securely stored. This includes API keys, Usage Based Licensing activation codes, passwords, etc.
Additionally, any <a class="reference internal" href="../application-plugins.html#application-plugins-param-ref-label"><span class="std std-ref">Plugin Parameter</span></a> with the Control Type of “Password” will be treated as a secret.</p>
<div class="section" id="deadline-managed-secrets">
<span id="deadline-secrets-management-managed-secrets-ref-label"></span><h3>Deadline Managed Secrets<a class="headerlink" href="#deadline-managed-secrets" title="Permalink to this headline">¶</a></h3>
<p>The following are a list of Deadline managed secrets:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../repository-config.html#repo-usage-based-licensing-ref-label"><span class="std std-ref">Usage Based Licensing URL</span></a></p></li>
<li><p><a class="reference internal" href="../repository-config.html#repo-usage-based-licensing-ref-label"><span class="std std-ref">Usage Based Licensing Activation Code</span></a></p></li>
<li><p><a class="reference internal" href="../repository-config.html#mapped-drives-ref-label"><span class="std std-ref">Mapped Drive Passwords</span></a></p></li>
<li><p><a class="reference internal" href="../repository-config.html#email-notification-settings-label"><span class="std std-ref">Email Notification Primary SMTP Server and Secondary SMTP Server Credentials</span></a></p></li>
<li><p><a class="reference internal" href="../repository-config.html#user-settings-repository-options-ref-label"><span class="std std-ref">Render As User Credentials</span></a></p></li>
<li><p><a class="reference internal" href="../event-plugins.html#event-plugins-ref-label"><span class="std std-ref">Event Plugin Parameters with the Control Type of “Password”</span></a></p></li>
<li><p><a class="reference internal" href="../application-plugins.html#application-plugins-ref-label"><span class="std std-ref">Application Plugin Parameters with the Control Type of “Password”</span></a></p></li>
</ul>
</div>
<div class="section" id="secret-access-levels">
<span id="deadline-secrets-management-secret-namespace-ref-label"></span><h3>Secret Access Levels<a class="headerlink" href="#secret-access-levels" title="Permalink to this headline">¶</a></h3>
<p>Depending on the type of secret, the access rights of that secret differ. Currently, the different access levels of secrets in Deadline are the following:</p>
<ul>
<li><p><strong>Administrator</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>This refers to administrator-level secrets, such as Email Notification SMTP passwords, Render-As User passwords, UBL Activation Codes, UBL URLs, and Mapped Drives.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Application Plugins</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>This refers to application plugin-level secrets, and can be written and read by all <a class="reference internal" href="#identity-management-roles-ref-label"><span class="std std-ref">Assigned Identity Roles</span></a>.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Event Plugins</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>This refers to event plugin-level secrets, and can be written and read by all <a class="reference internal" href="#identity-management-roles-ref-label"><span class="std std-ref">Assigned Identity Roles</span></a>.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>(Deprecated) Cloud Plugins</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>This refers to cloud plugin-level secrets, and can be written and read by all <a class="reference internal" href="#identity-management-roles-ref-label"><span class="std std-ref">Assigned Identity Roles</span></a>. (Note that cloud plugins are deprecated)</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>(Deprecated) Balancer Plugins</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>This refers to balancer plugin-level secrets, and can be written and read by all <a class="reference internal" href="#identity-management-roles-ref-label"><span class="std std-ref">Assigned Identity Roles</span></a>. (Note that the Balancer is deprecated)</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div>
</div>
<div class="section" id="master-key">
<span id="deadline-secrets-management-master-key-ref-label"></span><h2>Master Key<a class="headerlink" href="#master-key" title="Permalink to this headline">¶</a></h2>
<p>When running the <a class="reference internal" href="../install-db-repo.html#install-db-repo-ref-label"><span class="std std-ref">Repository Installer</span></a> for the first time, an Administrator user and a Master Key will be created. This Master Key is used to securely encrypt and decrypt secrets stored in the database. The initial Master Key will be assigned to the initial admin. Any Server or Administrator that needs to manage secrets is required to have the latest master key to manage secrets.</p>
<p>Rotating keys regularly is a common and good security practice. Please see <a class="reference internal" href="#deadline-secrets-management-faq-rotating-keys-ref-label"><span class="std std-ref">Managing and Rotating Keys</span></a> section for more information.</p>
</div>
<div class="section" id="administrator-commands">
<span id="deadline-secrets-management-admin-commands-ref-label"></span><h2>Administrator Commands<a class="headerlink" href="#administrator-commands" title="Permalink to this headline">¶</a></h2>
<p>To properly manage secrets, the <a class="reference internal" href="../command.html#command-secrets-management-ref-label"><span class="std std-ref">Secrets Management DeadlineCommand</span></a> has been added. The Secrets Management DeadlineCommand lists a number of sub-commands used to manage Administrators, Master Keys, and Identities.</p>
<p>Note that the Secrets Management DeadlineCommands can only be run over direct connection, and are expected to be run on a Server machine.</p>
<p>For all the examples provided here the commands are ran on a Linux environment with the admin name set to be <code class="code docutils literal notranslate"><span class="pre">centos</span></code>. The command execution is analogous on Windows machines.</p>
<div class="section" id="assignrole">
<span id="deadline-secrets-management-command-assignrole"></span><h3>AssignRole<a class="headerlink" href="#assignrole" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets help AssignRole
  AssignRole
    Assign a role to multiple identities that match the specified IP address
      filter. Note that this command also set the registration status to
      &quot;Registered&quot;. For unsuccessful assignments, a warning message will be
      displayed.
            [userId]                 The user Id of the Admin user
            [ipAddressFilter]        The filter to match the Identity Source IP
                                   address. &quot;*&quot; can be used to match all cases.
                                   (i.g. &quot;10.1.1.1&quot; or &quot;10.1.1.*&quot; or &quot;*&quot;)
            [osUserFilter]           The filter to match OSUser. &quot;*&quot; can be used to
                         match all cases. (i.g. &quot;root&quot; or &quot;centos&quot; or
                         &quot;*&quot;)
            [roleToBeAssigned]       The role to be assigned. [Client|Server]
</pre></div>
</div>
<p>Possible values for <code class="code docutils literal notranslate"><span class="pre">[ipAddressFilter]</span></code> can be found using the <a class="reference internal" href="#deadline-secrets-management-command-listallmachines"><span class="std std-ref">ListAllMachines</span></a> Secrets Management DeadlineCommand. The <a class="reference internal" href="#deadline-secrets-management-command-assignrole"><span class="std std-ref">AssignRole</span></a> command is useful for setting up initial server as outlined in <a class="reference internal" href="deadline-secrets-management-getting-started.html#deadline-secrets-management-getting-started-ref-label"><span class="std std-ref">Getting Started</span></a> guide for Secrets Management.</p>
<p>In addition, <a class="reference internal" href="#deadline-secrets-management-command-assignrole"><span class="std std-ref">AssignRole</span></a> can be used to mass assign roles. Say you have machines that have IP addresses <code class="code docutils literal notranslate"><span class="pre">10.1.1.*</span></code> and you want to Register them all and assign them the Client role. For this task you would run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets AssignRole centos &quot;10.1.1.*&quot; &quot;*&quot; &quot;Client&quot;
</pre></div>
</div>
<p>Make sure to wrap <code class="code docutils literal notranslate"><span class="pre">[ipAddressFilter]</span></code>, <code class="code docutils literal notranslate"><span class="pre">[osUserFilter]</span></code> and <code class="code docutils literal notranslate"><span class="pre">[roleToBeAssigned]</span></code> in quotation marks. For use examples of <code class="code docutils literal notranslate"><span class="pre">[ipAddressFilter]</span></code> please see command <a class="reference internal" href="#deadline-secrets-management-command-listallmachines"><span class="std std-ref">ListAllMachines</span></a>.</p>
<p>The GUI version of this command can be found in Deadline Monitor through <cite>Tools</cite> &gt; <cite>Manage Identities…</cite>.</p>
</div>
<div class="section" id="configureservermachine">
<span id="deadline-secrets-management-command-configureservermachine"></span><h3>ConfigureServerMachine<a class="headerlink" href="#configureservermachine" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets help ConfigureServerMachine
  ConfigureServerMachine
   Configures a Secrets Management server machine, assigning the machine that
   runs this command a server role and granting it access to the specified master
   key.
      [userId]                 The user Id of the Admin user
      [masterKeyId]            The Id of the master key
      [osUser]                 Name of the OS User that the deadline client
                               applications will be running as on this machine.
      [--password]             Optional. An option that determines how the
                               Admin password will be read. Value can be either
                               &#39;stdin&#39; or &#39;env:&lt;NAME&gt;&#39;. If stdin, the password
                               will be read from stdin. If env:&lt;NAME&gt; the
                               password will be read from an enviornment
                               variable called &lt;Name&gt;.
      [--configureAll]         Optional. Whether all identities that share the
                               same IP address and OS user as this machine
                               should be registered
</pre></div>
</div>
<p>This is a convenience command for configuring the initial Server machine. It will assign a server role and grant key access to an identity on the machine that runs the command. The <code class="code docutils literal notranslate"><span class="pre">--configureAll</span></code> option is for cases where a machine’s original identity was lost and a new one was created, causing multiple entries for the same IP and OS user.</p>
<p>Example usage: Say I am installing the <a class="reference internal" href="../remote-connection-server.html#remote-connection-server-ref-label"><span class="std std-ref">Remote Connection Server</span></a> on a machine and I want to initialize it to be able to use Secrets Management. In addition I know that the Remote Connection Server will be running as a user whose user name is jeff.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$./deadlinecommand.exe secrets ConfigureServerMachine admin1 defaultKey jeff
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">admin1</span></code> is the Secrets Management admin username that I set during the repository installation, <code class="docutils literal notranslate"><span class="pre">defaultKey</span></code> is the default name of the master key, and <code class="docutils literal notranslate"><span class="pre">jeff</span></code> is the operating system username of the user who will be running the Remote Connection Server.</p>
</div>
<div class="section" id="createinitialadmin">
<span id="deadline-secrets-management-command-createinitialadmin"></span><h3>CreateInitialAdmin<a class="headerlink" href="#createinitialadmin" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets help CreateInitialAdmin
  CreateInitialAdmin
    Create the initial Admin user. This command will fail if there is already one.
      [userId]                 The user Id of the Admin user
      [masterKeyId]            The Id of the master key to be generated
</pre></div>
</div>
<p>This command is called by the Repository Installer when creating the first Administrator user. You typically do not need to use this command, unless you want to manually enable the Secrets Management feature without running the Repository Installer.</p>
</div>
<div class="section" id="createnewadmin">
<span id="deadline-secrets-management-command-createnewadmin"></span><h3>CreateNewAdmin<a class="headerlink" href="#createnewadmin" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets help CreateNewAdmin
  CreateNewAdmin
    Create a new Admin user and grant access to the given master key
      [userId]                 The user Id of the Admin user
      [masterKeyId]            The Id of the master key to be granted
      [newAdminUserId]         The Id of new Admin user
</pre></div>
</div>
<p>Use this when you need to grant admin status to another user:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets CreateNewAdmin existingUser masterKey newUser
</pre></div>
</div>
<p><code class="code docutils literal notranslate"><span class="pre">newUser</span></code> is equal in authority to <code class="code docutils literal notranslate"><span class="pre">existingUser</span></code> as they both can revoke each other through the command <a class="reference internal" href="#deadline-secrets-management-command-revokeadminuser"><span class="std std-ref">RevokeAdminUser</span></a>. <code class="code docutils literal notranslate"><span class="pre">existingUser</span></code> must own the <code class="code docutils literal notranslate"><span class="pre">masterKey</span></code>, which can be achieved by granting it by another admin user through Secrets Management DeadlineCommand <a class="reference internal" href="#deadline-secrets-management-command-grantkeyaccesstoadmin"><span class="std std-ref">GrantKeyAccessToAdmin</span></a>, created with it using <a class="reference internal" href="#deadline-secrets-management-command-createinitialadmin"><span class="std std-ref">CreateInitialAdmin</span></a> or <a class="reference internal" href="#deadline-secrets-management-command-createnewadmin"><span class="std std-ref">CreateNewAdmin</span></a>. Upon an installation that has Secrets Management enabled, the initial admin owns the masterKey called <code class="code docutils literal notranslate"><span class="pre">defaultKey</span></code>.</p>
<p>You can get the list of available and enabled master keys for <code class="code docutils literal notranslate"><span class="pre">[masterKeyId]</span></code> through <a class="reference internal" href="#deadline-secrets-management-command-listallmasterkeys"><span class="std std-ref">ListAllMasterKeys</span></a> Secrets Management DeadlineCommand.</p>
</div>
<div class="section" id="createloadbalanceridentityregistrationsetting">
<span id="deadline-secrets-management-command-createloadbalanceridentityregistrationsetting"></span><h3>CreateLoadBalancerIdentityRegistrationSetting<a class="headerlink" href="#createloadbalanceridentityregistrationsetting" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets help CreateLoadBalancerIdentityRegistrationSetting
  CreateLoadBalancerIdentityRegistrationSetting &lt;userId&gt; &lt;name&gt; &lt;connectingFilterType&gt; &lt;connectingFilterValue&gt; &lt;sourceFilterType&gt; &lt;sourceFilterValue&gt; &lt;defaultRole&gt; &lt;defaultRegistrationStatus&gt; &lt;enabled&gt; [&lt;--password&gt;]
    Create an identity registration setting to automatically assign a role to
    identities based on the connection&#39;s IP address and the source IP address of
    the request.
      userId                    The user Id of the Admin user
      name                      The user-defined name of the registration
                                setting
      connectingFilterType      The type of filter expression for the connecting
                                IP address. Possible values are: &quot;IPv4Match&quot;,
                                &quot;IPRegex&quot;
      connectingFilterValue     The filter expression for the connecting IP
                                address
      sourceFilterType          The type of filter expression for the source IP
                                address. Possible values are: &quot;IPv4Match&quot;,
                                &quot;IPRegex&quot;
      sourceFilterValue         The filter expression for the source IP address
      defaultRole               The default role to apply to the identity.
                                Possible values are: &quot;Client&quot;, &quot;Server&quot;
      defaultRegistrationStatus The registration status that gets applied to a
                                matching identity. Possible values are:
                                &quot;Unknown&quot;, &quot;Pending&quot;, &quot;Registered&quot;, &quot;Revoked&quot;
      enabled                   Whether the registration setting is enabled.
                                Possible values are: &quot;true&quot; or &quot;false&quot;.
      --password                Optional. An option that determines how the
                                Admin password will be read. Value can be either
                                &#39;stdin&#39; or &#39;env:&lt;NAME&gt;&#39;. If stdin, the password
                                will be read from stdin. If env:&lt;NAME&gt; the
                                password will be read from an enviornment
                                variable called &lt;Name&gt;.
</pre></div>
</div>
<p>Use this command to create an <a class="reference internal" href="#identity-management-registration-settings-ref-label"><span class="std std-ref">identity registration setting</span></a> that automatically applies a <a class="reference internal" href="#identity-management-roles-ref-label"><span class="std std-ref">role</span></a> and <a class="reference internal" href="#identity-management-status-ref-label"><span class="std std-ref">status</span></a> to an identity based on configurable filter expressions that match the connecting IP address of a load balancer and the forwarded IP address of a Deadline Client.
If the command successfully creates the identity registration setting, the new setting will be output.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets CreateLoadBalancerIdentityRegistrationSetting admin1 newSettingName IPv4Match 1.2.3.4 IPRegex 5.6.7.8 Server Registered true
Please enter your Admin password:
ID                       Name           Connecting IP Filter Type Connecting IP Filter Source IP Filter Type Source IP Filter Default Role Default Status Enabled
======================== ============== ========================= ==================== ===================== ================ ============ ============== =======
6hF9ZqujhESYQSuQoahdng== newSettingName IPv4Match                 1.2.3.4              IPRegex               5.6.7.8          Server       Registered     True
</pre></div>
</div>
</div>
<div class="section" id="creatercsdirectidentityregistrationsetting">
<span id="deadline-secrets-management-command-creatercsdirectidentityregistrationsetting"></span><h3>CreateRcsDirectIdentityRegistrationSetting<a class="headerlink" href="#creatercsdirectidentityregistrationsetting" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets help CreateRcsDirectIdentityRegistrationSetting
  CreateRcsDirectIdentityRegistrationSetting &lt;userId&gt; &lt;name&gt; &lt;filterType&gt; &lt;filterValue&gt; &lt;defaultRole&gt; &lt;defaultRegistrationStatus&gt; &lt;enabled&gt; [&lt;--password&gt;]
    Create an identity registration setting to automatically assign a role to
    identities based on their connecting IP address.
      userId                    The user Id of the Admin user
      name                      The user-defined name of the registration
                                setting
      filterType                The type of filter expression for the connecting
                                IP address. Possible values are: &quot;IPv4Match&quot;,
                                &quot;IPRegex&quot;
      filterValue               The filter expression for the connecting IP
                                address
      defaultRole               The default role to apply to the identity.
                                Possible values are: &quot;Client&quot;, &quot;Server&quot;
      defaultRegistrationStatus The registration status that gets applied to a
                                matching identity. Possible values are:
                                &quot;Unknown&quot;, &quot;Pending&quot;, &quot;Registered&quot;, &quot;Revoked&quot;
      enabled                   Whether the registration setting is enabled.
                                Possible values are: &quot;true&quot; or &quot;false&quot;.
      --password                Optional. An option that determines how the
                                Admin password will be read. Value can be either
                                &#39;stdin&#39; or &#39;env:&lt;NAME&gt;&#39;. If stdin, the password
                                will be read from stdin. If env:&lt;NAME&gt; the
                                password will be read from an enviornment
                                variable called &lt;Name&gt;.
</pre></div>
</div>
<p>Use this command to create an <a class="reference internal" href="#identity-management-registration-settings-ref-label"><span class="std std-ref">identity registration setting</span></a> that automatically applies a <a class="reference internal" href="#identity-management-roles-ref-label"><span class="std std-ref">role</span></a> and <a class="reference internal" href="#identity-management-status-ref-label"><span class="std std-ref">status</span></a> to an identity based on a configurable filter expression that matches the connecting IP address of the Deadline Client.
If the command successfully creates the identity registration setting, the new setting will be output.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets CreateRcsDirectIdentityRegistrationSetting admin1 newSettingName IPv4Match 1.2.3.4 Server Registered true
Please enter your Admin password:
ID                       Name           IP Filter Type IP Filter Default Role Default Status Enabled
======================== ============== ============== ========= ============ ============== =======
lIULr8fDiUeWOkDU68NkDQ== newSettingName IPv4Match      1.2.3.4   Server       Registered     True
</pre></div>
</div>
</div>
<div class="section" id="deleteloadbalanceridentityregistrationsetting">
<span id="deadline-secrets-management-command-deleteloadbalanceridentityregistrationsetting"></span><h3>DeleteLoadBalancerIdentityRegistrationSetting<a class="headerlink" href="#deleteloadbalanceridentityregistrationsetting" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets help DeleteLoadBalancerIdentityRegistrationSetting
  DeleteLoadBalancerIdentityRegistrationSetting &lt;userId&gt; &lt;settingId&gt; [&lt;--password&gt;]
    Deletes an existing identity registration settings that automatically assign a
    role for new identities based on the connection&#39;s IP address and the source IP
    address of the request.
      userId                   The user Id of the Admin user
      settingId                The unique identifier for the registration
                               setting to delete
      --password               Optional. An option that determines how the
                               Admin password will be read. Value can be either
                               &#39;stdin&#39; or &#39;env:&lt;NAME&gt;&#39;. If stdin, the password
                               will be read from stdin. If env:&lt;NAME&gt; the
                               password will be read from an enviornment
                               variable called &lt;Name&gt;.
</pre></div>
</div>
<p>Use this command to delete an existing <a class="reference internal" href="#identity-management-registration-settings-ref-label"><span class="std std-ref">identity registration setting</span></a> that automatically applies a <a class="reference internal" href="#identity-management-roles-ref-label"><span class="std std-ref">role</span></a> and <a class="reference internal" href="#identity-management-status-ref-label"><span class="std std-ref">status</span></a> to an identity based on configurable filter expressions that match the connecting IP address of a load balancer and the forwarded IP address of a Deadline Client.
If the command successfully deletes the identity registration setting, the command will output:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets DeleteLoadBalancerIdentityRegistrationSetting admin1 ndCbF7ZcSEWA6VWLhxFQjw==
Please enter your Admin password:
Load balancer identity registration setting &quot;ndCbF7ZcSEWA6VWLhxFQjw==&quot; deleted.
</pre></div>
</div>
</div>
<div class="section" id="deletercsdirectidentityregistrationsetting">
<span id="deadline-secrets-management-command-deletercsdirectidentityregistrationsetting"></span><h3>DeleteRcsDirectIdentityRegistrationSetting<a class="headerlink" href="#deletercsdirectidentityregistrationsetting" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets help DeleteRcsDirectIdentityRegistrationSetting
  DeleteRcsDirectIdentityRegistrationSetting &lt;userId&gt; &lt;settingId&gt; [&lt;--password&gt;]
    Deletes an existing identity registration settings that automatically assign a
    role for new identities based on their connecting IP address.
      userId                   The user Id of the Admin user
      settingId                The unique identifier for the registration
                               setting to delete
      --password               Optional. An option that determines how the
                               Admin password will be read. Value can be either
                               &#39;stdin&#39; or &#39;env:&lt;NAME&gt;&#39;. If stdin, the password
                               will be read from stdin. If env:&lt;NAME&gt; the
                               password will be read from an enviornment
                               variable called &lt;Name&gt;.
</pre></div>
</div>
<p>Use this command to delete an <a class="reference internal" href="#identity-management-registration-settings-ref-label"><span class="std std-ref">identity registration setting</span></a> that automatically applies a <a class="reference internal" href="#identity-management-roles-ref-label"><span class="std std-ref">role</span></a> and <a class="reference internal" href="#identity-management-status-ref-label"><span class="std std-ref">status</span></a> to an identity based on a configurable filter expression that matches the connecting IP address of the Deadline Client.
If the command successfully deletes the identity registration setting, the command will output:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets DeleteRcsDirectIdentityRegistrationSetting admin1 eRCkR77Srk+vB5/j3a18Sg==
Please enter your Admin password:
RCS direct identity registration setting &quot;eRCkR77Srk+vB5/j3a18Sg==&quot; deleted.
</pre></div>
</div>
</div>
<div class="section" id="disablemasterkey">
<span id="deadline-secrets-management-command-disablemasterkey"></span><h3>DisableMasterKey<a class="headerlink" href="#disablemasterkey" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets help DisableMasterKey
DisableMasterKey
  Disable a master key
    [userId]                 The user Id of the Admin user
    [masterKeyId]            The Id of the master key to be disabled
</pre></div>
</div>
<p>If in the event that a master key has been compromised, you can disable the master key. This will cause all secrets that were encrypted by that master key to become irretrievable until a new key is generated and granted.</p>
<p>An example of disabling a master key:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets ListAllMasterKeys centos
Please enter your Admin password:
Key        Status  Version
========== ======= =======
defaultKey Enabled 0
$ ./deadlinecommand.exe secrets DisableMasterKey centos defaultKey
Please enter your Admin password:
Disabled master key (defaultKey).
$ ./deadlinecommand.exe secrets ListAllMasterKeys centos
Please enter your Admin password:
Key        Status   Version
========== ======== =======
defaultKey Disabled 0
</pre></div>
</div>
<p>Make sure to have the correct spelling of the key as you can disable nonexistent keys:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets DisableMasterKey centos keyThatDoesNotExist
Please enter your Admin password:
Disabled master key (keyThatDoesNotExist).
</pre></div>
</div>
<p>Disabling a key makes it useless for the admin users and servers that hold it. If you disable a key, then you will need have an admin generate a new one using <a class="reference internal" href="#deadline-secrets-management-command-generatenewmasterkey"><span class="std std-ref">GenerateNewMasterKey</span></a>. This admin can then grant this key to other admin users and servers using Secrets Management DeadlineCommand <a class="reference internal" href="#deadline-secrets-management-command-grantkeyaccesstoadmin"><span class="std std-ref">GrantKeyAccessToAdmin</span></a> and <a class="reference internal" href="#deadline-secrets-management-command-grantkeyaccesstoserver"><span class="std std-ref">GrantKeyAccessToServer</span></a>. You will then need to manually re-save each secret with the <a class="reference internal" href="#deadline-secrets-management-command-putsecret"><span class="std std-ref">PutSecret</span></a> command using the new key.</p>
<p>If you are looking to update your keys in a regular situation in which they are not compromised, then please refer to <a class="reference internal" href="#deadline-secrets-management-command-requestkeyrotation"><span class="std std-ref">RequestKeyRotation</span></a>.</p>
</div>
<div class="section" id="disablesecret">
<span id="deadline-secrets-management-command-disablesecret"></span><h3>DisableSecret<a class="headerlink" href="#disablesecret" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets help DisableSecret
DisableSecret
  Disable secret
    [userId]                 The user Id of the Admin user
    [secretId]               The Id of the secret to be disabled
</pre></div>
</div>
<p>You can disable a secret if you no longer wish for the secret value to be used by any Deadline Client applications. Note that when a secret has been disabled, it cannot be re-enabled, and will be rendered obsolete. You will not be able to view the secret until you save a new secret through the use of <a class="reference internal" href="#deadline-secrets-management-command-putsecret"><span class="std std-ref">PutSecret</span></a>.</p>
<p>In this example, we will initially save “blabla” as <code class="code docutils literal notranslate"><span class="pre">mySecret</span></code> and then disable it.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets PutSecret centos mySecret &quot;&quot;
Please enter your Admin password:
New secret value:
Retype new secret value:
Successfully stored the secret.
$ ./deadlinecommand.exe secrets ListAllSecrets centos
Please enter your Admin password:
Secret Id                                   Secret Version MasterKey Id MasterKey Version Secret Description Secret Disabled
=========================================== ============== ============ ================= ================== ===============
mySecret                                    0              defaultKey   0                                    False
$ ./deadlinecommand.exe secrets GetSecret centos mySecret
Please enter your Admin password:
Secret Value
=============
blabla
$ ./deadlinecommand.exe secrets DisableSecret centos mySecret
Please enter your Admin password:
Disabled secret (mySecret).
$ ./deadlinecommand.exe secrets ListAllSecrets centos
Please enter your Admin password:
Secret Id                                   Secret Version MasterKey Id MasterKey Version Secret Description Secret Disabled
=========================================== ============== ============ ================= ================== ===============
mySecret                                    0              defaultKey   0                                    True
$ ./deadlinecommand.exe secrets GetSecret centos mySecret
Please enter your Admin password:
Secret Value
=============
</pre></div>
</div>
<p>After being disabled, the secret is now returned as an empty string.</p>
</div>
<div class="section" id="generatenewmasterkey">
<span id="deadline-secrets-management-command-generatenewmasterkey"></span><h3>GenerateNewMasterKey<a class="headerlink" href="#generatenewmasterkey" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets help GenerateNewMasterKey
GenerateNewMasterKey
  Genearte a new master key specified by masterKeyId. Note that you can only
  have one master key enabled at once. Please disable the existing one before
  you generate a new one.
    [userId]                 The user Id of the Admin user
    [masterKeyId]            The Id of the new master key to be generated
</pre></div>
</div>
<p>Having disabled the existing key through <a class="reference internal" href="#deadline-secrets-management-command-disablemasterkey"><span class="std std-ref">DisableMasterKey</span></a>, we now generate a new one:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets GenerateNewMasterKey centos newKey
Please enter your Admin password:
New master key is successfully generated.
</pre></div>
</div>
<p>The admin user who called the command now is the owner of the key and can grant it to other servers and admins through <a class="reference internal" href="#deadline-secrets-management-command-grantkeyaccesstoserver"><span class="std std-ref">GrantKeyAccessToServer</span></a> and <a class="reference internal" href="#deadline-secrets-management-command-grantkeyaccesstoadmin"><span class="std std-ref">GrantKeyAccessToAdmin</span></a> respectively.</p>
<p>If you try to generate another key:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets GenerateNewMasterKey centos newKey2
Please enter your Admin password:
Error: [SecretsManagement] You cannot have two enabled master keys at the same time. Please disable the existing one.
</pre></div>
</div>
<p>you will get an error. This is because it is only possible to have a maximum of one enabled key at any given time. To see all keys and their enabled status run <a class="reference internal" href="#deadline-secrets-management-command-listallmasterkeys"><span class="std std-ref">ListAllMasterKeys</span></a>.</p>
</div>
<div class="section" id="getloadbalanceridentityregistrationsettings">
<span id="deadline-secrets-management-command-getloadbalanceridentityregistrationsettings"></span><h3>GetLoadBalancerIdentityRegistrationSettings<a class="headerlink" href="#getloadbalanceridentityregistrationsettings" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets help GetLoadBalancerIdentityRegistrationSettings
GetLoadBalancerIdentityRegistrationSettings &lt;userId&gt; [&lt;--password&gt;]
  Lists the existing identity registration settings that automatically assign a
  role for new identities based on the connection&#39;s IP address and the source IP
  address of the request.
    userId                   The user Id of the Admin user
    --password               Optional. An option that determines how the
                             Admin password will be read. Value can be either
                             &#39;stdin&#39; or &#39;env:&lt;NAME&gt;&#39;. If stdin, the password
                             will be read from stdin. If env:&lt;NAME&gt; the
                             password will be read from an enviornment
                             variable called &lt;Name&gt;.
</pre></div>
</div>
<p>Use this command to list all <a class="reference internal" href="#identity-management-registration-settings-ref-label"><span class="std std-ref">identity registration setting</span></a> that automatically apply a <a class="reference internal" href="#identity-management-roles-ref-label"><span class="std std-ref">role</span></a> and <a class="reference internal" href="#identity-management-status-ref-label"><span class="std std-ref">status</span></a> to an identity based on configurable filter expressions that match the connecting IP address of a load balancer and the forwarded IP address of a Deadline Client.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets GetLoadBalancerIdentityRegistrationSettings admin1
Please enter your Admin password:
ID                       Name         Connecting IP Filter Type Connecting IP Filter Source IP Filter Type Source IP Filter Default Role Default Status Enabled
======================== ============ ========================= ==================== ===================== ================ ============ ============== =======
ndCbF7ZcSEWA6VWLhxFQjw== settingOne   IPv4Match                 1.1.1.1              IPv4Match             2.2.2.2          Server       Registered     True
gih3+VuhCUeFUj812jOwiQ== settingTwo   IPRegex                   1\.1\.1\..*          IPRegex               3\.3\.3\.3       Server       Registered     True
6hF9ZqujhESYQSuQoahdng== settingThree IPv4Match                 1.2.3.4              IPRegex               5\.6\.7\..*      Server       Registered     True
</pre></div>
</div>
</div>
<div class="section" id="getrcsdirectidentityregistrationsettings">
<span id="deadline-secrets-management-command-getrcsdirectidentityregistrationsettings"></span><h3>GetRcsDirectIdentityRegistrationSettings<a class="headerlink" href="#getrcsdirectidentityregistrationsettings" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets help GetRcsDirectIdentityRegistrationSettings
GetRcsDirectIdentityRegistrationSettings &lt;userId&gt; [&lt;--password&gt;]
  Lists the existing identity registration settings that automatically assign a
  role for new identities based on their connecting IP address.
    userId                   The user Id of the Admin user
    --password               Optional. An option that determines how the
                             Admin password will be read. Value can be either
                             &#39;stdin&#39; or &#39;env:&lt;NAME&gt;&#39;. If stdin, the password
                             will be read from stdin. If env:&lt;NAME&gt; the
                             password will be read from an enviornment
                             variable called &lt;Name&gt;.
</pre></div>
</div>
<p>Use this command to list all <a class="reference internal" href="#identity-management-registration-settings-ref-label"><span class="std std-ref">identity registration setting</span></a> that automatically apply a <a class="reference internal" href="#identity-management-roles-ref-label"><span class="std std-ref">role</span></a> and <a class="reference internal" href="#identity-management-status-ref-label"><span class="std std-ref">status</span></a> to an identity based on a configurable filter expression that matches the connecting IP address of the Deadline Client.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets GetRcsDirectIdentityRegistrationSettings admin1
Please enter your Admin password:
ID                       Name         IP Filter Type IP Filter       Default Role Default Status Enabled
======================== ============ ============== =============== ============ ============== =======
eRCkR77Srk+vB5/j3a18Sg== settingOne   IPRegex        1\.2\.3\..*     Client       Pending        False
Vrh7GIlcqEig1l+3KJttgw== settingTwo   IPv4Match      192.168.0.1-255 Server       Registered     True
lIULr8fDiUeWOkDU68NkDQ== settingThree IPv4Match      10.0.0.0-255    Client       Registered     True
</pre></div>
</div>
</div>
<div class="section" id="getsecret">
<span id="deadline-secrets-management-command-getsecret"></span><h3>GetSecret<a class="headerlink" href="#getsecret" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets help GetSecret
GetSecret
  Retrieve a secret value. Note that this command can only work on a valid
  server machine.
    [userId]                 The user Id of the Admin user
    [secretId]               The Id of the secret
</pre></div>
</div>
<p>This is run on a server machine that has had a valid key granted to it through the Secrets Management DeadlineCommand <a class="reference internal" href="#deadline-secrets-management-command-grantkeyaccesstoserver"><span class="std std-ref">GrantKeyAccessToServer</span></a>. To know which <code class="code docutils literal notranslate"><span class="pre">[secretId]</span></code> corresponds to the secret you want to see then run the Secrets Management DeadlineCommand <a class="reference internal" href="#deadline-secrets-management-command-listallsecrets"><span class="std std-ref">ListAllSecrets</span></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets ListAllSecrets centos
Please enter your Admin password:
Secret Id                                   Secret Version MasterKey Id MasterKey Version Secret Description Secret Disabled
=========================================== ============== ============ ================= ================== ===============
/admin/ublsettings/UsageBasedActivationCode 0              defaultKey   0                                    False
/admin/ublsettings/UsageBasedURL            0              defaultKey   0                                    False
</pre></div>
</div>
<p>In this case, the secrets <code class="code docutils literal notranslate"><span class="pre">/admin/ublsettings/UsageBasedActivationCode</span></code> and <code class="code docutils literal notranslate"><span class="pre">/admin/ublsettings/UsageBasedURL</span></code> are saved through the Deadline Monitor in <cite>Tools</cite> &gt; <cite>Configure Repository Options…</cite> &gt; <cite>Usage Based Licensing</cite> in textboxes labeled: <cite>URL</cite> and <cite>Activitation Code</cite>. However, you can also update the value using Secrets Management DeadlineCommand <a class="reference internal" href="#deadline-secrets-management-command-putsecret"><span class="std std-ref">PutSecret</span></a>.</p>
<p>If you need to know what the value of <code class="code docutils literal notranslate"><span class="pre">/admin/ublsettings/UsageBasedURL</span></code> is in the case that you forgot or do not have it saved elsewhere then you would run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets GetSecret centos /admin/ublsettings/UsageBasedActivationCode
Please enter your Admin password:
Secret Value
=============
mysecret
</pre></div>
</div>
<p>The password here is printed to stdout.</p>
<p>If you enter a nonexistent <code class="code docutils literal notranslate"><span class="pre">[secretId]</span></code> then you will just obtain an empty string:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ sudo ./deadlinecommand.exe secrets GetSecret centos wrongId
Please enter your Admin password:
Secret Value
=============
</pre></div>
</div>
</div>
<div class="section" id="grantkeyaccesstoadmin">
<span id="deadline-secrets-management-command-grantkeyaccesstoadmin"></span><h3>GrantKeyAccessToAdmin<a class="headerlink" href="#grantkeyaccesstoadmin" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets help GrantKeyAccessToAdmin
GrantKeyAccessToAdmin
  Grants access for the specified master key to an Admin user after a key
  rotation. Note that this command can only work on a valid server machine.
    [userId]                 The user Id of the Admin user
    [masterKeyId]            The Id of the master key to be granted
</pre></div>
</div>
<p>This command is run on the Server that has the key. The server would have obtained the key from <a class="reference internal" href="#deadline-secrets-management-command-grantkeyaccesstoserver"><span class="std std-ref">GrantKeyAccessToServer</span></a>. Use <a class="reference internal" href="#deadline-secrets-management-command-listallmasterkeys"><span class="std std-ref">ListAllMasterKeys</span></a> to assist in assigning the appropriate and enabled key and <a class="reference internal" href="#deadline-secrets-management-command-listalladminusers"><span class="std std-ref">ListAllAdminUsers</span></a> to select <code class="code docutils literal notranslate"><span class="pre">[userId]</span></code>.</p>
</div>
<div class="section" id="grantkeyaccesstoserver">
<span id="deadline-secrets-management-command-grantkeyaccesstoserver"></span><h3>GrantKeyAccessToServer<a class="headerlink" href="#grantkeyaccesstoserver" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets help GrantKeyAccessToServer
GrantKeyAccessToServer
  Grants access of the specified master key to the specified server
    [userId]                 The user Id of the Admin user
    [masterKeyId]            The Id of the master key
    [toServerUserId]         The server to be granted key access]
</pre></div>
</div>
<p>An example of running the command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets ListAllMasterKeys centos
Please enter your Admin password:
Key        Status  Version
========== ======= =======
defaultKey Enabled 0

$ ./deadlinecommand.exe secrets GrantKeyAccessToServer centos defaultKey 61-3A-02-1B-AF-75-81-2D-AF-52-FB-93-85-E1-19-9F-11-4B-7F-2E-34-A4-83-FC-59-42-19-D2-E3-DA-07-76
Please enter your Admin password:
Successfully granted access to the server: (61-3A-02-1B-AF-75-81-2D-AF-52-FB-93-85-E1-19-9F-11-4B-7F-2E-34-A4-83-FC-59-42-19-D2-E3-DA-07-76
</pre></div>
</div>
<p>It is possible to grant disabled keys to servers. Make sure you are granting the right key. Run <a class="reference internal" href="#deadline-secrets-management-command-listallmasterkeys"><span class="std std-ref">ListAllMasterKeys</span></a> to get a list of all keys.</p>
<p>Value for <code class="code docutils literal notranslate"><span class="pre">[toServerUserId]</span></code> can be obtained by running Secrets Management DeadlineCommand <a class="reference internal" href="#deadline-secrets-management-command-listallmachines"><span class="std std-ref">ListAllMachines</span></a>.</p>
</div>
<div class="section" id="help">
<span id="deadline-secrets-management-command-help"></span><h3>Help<a class="headerlink" href="#help" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets help help
Help
  Show help information for sub-command(s)
    [sub-command]            The name of a specific sub-command( optional )
</pre></div>
</div>
<p>To output all available commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets help
</pre></div>
</div>
<p>To output help for a specific command, say for <a class="reference internal" href="#deadline-secrets-management-command-getsecret"><span class="std std-ref">GetSecret</span></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets help GetSecret
GetSecret
  Retrieve a secret value. Note that this command can only work on a valid
  server machine.
    [userId]                 The user Id of the Admin user
    [secretId]               The Id of the secret
</pre></div>
</div>
</div>
<div class="section" id="listalladminusers">
<span id="deadline-secrets-management-command-listalladminusers"></span><h3>ListAllAdminUsers<a class="headerlink" href="#listalladminusers" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets help ListAllAdminUsers
ListAllAdminUsers
  List all admin users
    [userId]                 The user Id of the Admin user
</pre></div>
</div>
<p>This will output both registered and revoked users. Users can be created/registered through <a class="reference internal" href="#deadline-secrets-management-command-createnewadmin"><span class="std std-ref">CreateNewAdmin</span></a> and revoked through <a class="reference internal" href="#deadline-secrets-management-command-revokeadminuser"><span class="std std-ref">RevokeAdminUser</span></a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets ListAllAdminUsers centos
Please enter your Admin password:
User    Status
======= ==========
centos  Registered
oldUser Revoked
</pre></div>
</div>
</div>
<div class="section" id="listalllogs">
<span id="deadline-secrets-management-command-listalllogs"></span><h3>ListAllLogs<a class="headerlink" href="#listalllogs" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets help ListAllLogs
ListAllLogs
  Lists the Secret audit logs.
    [userId]                 The user Id of the Admin user
    [--numlogs]              OPTIONAL: List only the N most recent logs,
                             where N is a non-negative integer
</pre></div>
</div>
<p>The logs contain the time, admin id who ran the action, the action and if the action was successful.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets ListAllLogs centos --numlogs 3
Please enter your Admin password:
Event Time (UTC), User Id, Action, Action information, Was successful
06/23/2020 12:37:36 centos CreateInitialAdminUser Created initial Admin and MasterKey(defaultKey). True
06/23/2020 12:37:38 centos ValidateAdminUserPassword Verified Admin password. True
06/23/2020 12:37:40 centos ValidateAdminUserPassword Verified Admin password. True
</pre></div>
</div>
<p>The logs are printed to stdout and can be redirected to a file.</p>
<p>We generally recommend keeping logs for up to 10 years as a security precaution.</p>
</div>
<div class="section" id="listallmachines">
<span id="deadline-secrets-management-command-listallmachines"></span><h3>ListAllMachines<a class="headerlink" href="#listallmachines" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets help ListAllMachines
ListAllMachines
  List all registered machines
    [userId]                 The user Id of the Admin user
    [ipAddressFilter]        The filter to match the Source IP addresses.
                             Surround arguments with quotation marks (i.g.
                             &quot;10.1.1.1&quot; or &quot;10.1.1.*&quot; or &quot;*&quot;)
    [roleFilter]             The filter to match machine roles. Argument is
                             one of three: &quot;Client&quot;,&quot;Server&quot;,&quot;*&quot;
</pre></div>
</div>
<p>Make sure to wrap <code class="code docutils literal notranslate"><span class="pre">[ipAddressFilter]</span></code> and <code class="code docutils literal notranslate"><span class="pre">[roleFilter]</span></code> in quotation marks. An example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets ListAllMachines centos &quot;172.*&quot; &quot;*&quot;
Please enter your Admin password:
Machine Name                                  Source IP Address Connection IP Address OSUser Roles    Status     Id
============================================= ================= ===================== ====== ======== ========== ===============================================================================================
ip-172-31-0-185.ca-central-1.compute.internal 172.31.0.185      172.31.0.185          centos [Server] Registered 61-3A-02-1B-AF-75-81-2D-AF-52-FB-93-85-E1-19-9F-11-4B-7F-2E-34-A4-83-FC-59-42-19-D2-E3-DA-07-76
ip-172-31-0-185.ca-central-1.compute.internal 172.31.0.185      172.31.0.185          root   [Server] Registered D4-87-E8-54-80-A6-79-25-05-F6-55-B5-7C-16-89-96-D2-A4-5F-D9-34-43-7E-36-A0-31-27-C2-56-69-4A-2D
</pre></div>
</div>
<p>Replacing <code class="code docutils literal notranslate"><span class="pre">&quot;172.*&quot;</span></code> with <code class="code docutils literal notranslate"><span class="pre">&quot;*&quot;</span></code>, <code class="code docutils literal notranslate"><span class="pre">&quot;172.*.*&quot;</span></code>, <code class="code docutils literal notranslate"><span class="pre">&quot;172.*.*.*&quot;</span></code>, <code class="code docutils literal notranslate"><span class="pre">&quot;*.31.*&quot;</span></code> or <code class="code docutils literal notranslate"><span class="pre">&quot;*.0.*&quot;</span></code> will capture the two previous results while <code class="code docutils literal notranslate"><span class="pre">&quot;*.0*.&quot;</span></code> and <code class="code docutils literal notranslate"><span class="pre">&quot;*.0*.*</span></code> will not.</p>
<p>Replacing the last argument <code class="code docutils literal notranslate"><span class="pre">&quot;*&quot;</span></code> with “Server” will capture the two previous results while <code class="code docutils literal notranslate"><span class="pre">&quot;Client&quot;</span></code> will not.</p>
</div>
<div class="section" id="listallmasterkeys">
<span id="deadline-secrets-management-command-listallmasterkeys"></span><h3>ListAllMasterKeys<a class="headerlink" href="#listallmasterkeys" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets help ListAllMasterKeys
ListAllMasterKeys
  List all master keys
    [userId]                 The user Id of the Admin user
</pre></div>
</div>
<p>The output will include disabled and enabled keys. It is possible to only have a maximum of one enabled key.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets ListAllMasterKeys centos
Please enter your Admin password:
Key        Status   Version
========== ======== =======
defaultKey Disabled 0
newkey     Enabled  2
</pre></div>
</div>
</div>
<div class="section" id="listallsecrets">
<span id="deadline-secrets-management-command-listallsecrets"></span><h3>ListAllSecrets<a class="headerlink" href="#listallsecrets" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets help ListAllSecrets
ListAllSecrets
  List all secrets
    [userId]                 The user Id of the Admin user
</pre></div>
</div>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets ListAllSecrets centos
Please enter your Admin password:
Secret Id                                   Secret Version MasterKey Id MasterKey Version Secret Description Secret Disabled
=========================================== ============== ============ ================= ================== ===============
/admin/ublsettings/UsageBasedActivationCode 0              defaultKey   0                                    False
/admin/ublsettings/UsageBasedURL            0              defaultKey   0                                    False
</pre></div>
</div>
</div>
<div class="section" id="migratesecrets">
<span id="deadline-secrets-management-command-migratesecrets"></span><h3>MigrateSecrets<a class="headerlink" href="#migratesecrets" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets help MigrateSecrets
MigrateSecrets
  Migrate existing secrets from the legacy storage to the Secrets Management
  storage. Note that secrets will still exist in the legacy storage and can be
  removed by running the &quot;RemoveLegacySecrets&quot; command. Be sure to run this
  command before running &quot;RemoveLegacySecrets&quot; in order to not remove all secret
  copies.
    [userId]                 The user Id of the Admin user
    [masterKeyId]            The Id of the master key with which secrets will
                             be encrypted
</pre></div>
</div>
<p>This command is run in the installer and is not useful for general use unless working through a manual installation process.</p>
</div>
<div class="section" id="performkeyrotation">
<span id="deadline-secrets-management-command-performkeyrotation"></span><h3>PerformKeyRotation<a class="headerlink" href="#performkeyrotation" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PerformKeyRotation</span>
  <span class="n">Find</span> <span class="n">master</span> <span class="n">keys</span> <span class="n">requested</span> <span class="n">to</span> <span class="n">be</span> <span class="n">rotated</span> <span class="ow">and</span> <span class="n">perform</span> <span class="n">the</span> <span class="n">key</span> <span class="n">rotation</span> <span class="n">process</span><span class="o">.</span>
  <span class="n">Note</span> <span class="n">that</span> <span class="n">this</span> <span class="ow">is</span> <span class="n">usually</span> <span class="n">done</span> <span class="n">by</span> <span class="n">one</span> <span class="n">of</span> <span class="n">the</span> <span class="n">servers</span> <span class="n">automatically</span><span class="o">.</span> <span class="n">This</span>
  <span class="n">command</span> <span class="n">provides</span> <span class="n">the</span> <span class="n">Admin</span> <span class="n">an</span> <span class="n">alternative</span> <span class="n">way</span> <span class="n">to</span> <span class="n">kick</span> <span class="n">off</span> <span class="n">the</span> <span class="n">process</span><span class="o">.</span> <span class="n">Note</span>
  <span class="n">that</span> <span class="n">this</span> <span class="n">command</span> <span class="n">can</span> <span class="n">only</span> <span class="n">work</span> <span class="n">on</span> <span class="n">a</span> <span class="n">valid</span> <span class="n">server</span> <span class="n">machine</span> <span class="n">after</span> <span class="n">an</span> <span class="n">Admin</span>
  <span class="n">requested</span> <span class="n">the</span> <span class="n">key</span> <span class="n">rotation</span> <span class="n">by</span> <span class="n">using</span> <span class="s2">&quot;RequestKeyRotation&quot;</span> <span class="n">command</span><span class="o">.</span>
    <span class="p">[</span><span class="n">userId</span><span class="p">]</span>                 <span class="n">The</span> <span class="n">user</span> <span class="n">Id</span> <span class="n">of</span> <span class="n">the</span> <span class="n">Admin</span> <span class="n">user</span>
</pre></div>
</div>
<p>This command requires for rotation to be requested through <a class="reference internal" href="#deadline-secrets-management-command-requestkeyrotation"><span class="std std-ref">RequestKeyRotation</span></a>. To see what the rotation will do, please see <a class="reference internal" href="#deadline-secrets-management-command-requestkeyrotation"><span class="std std-ref">RequestKeyRotation</span></a>.</p>
</div>
<div class="section" id="putsecret">
<span id="deadline-secrets-management-command-putsecret"></span><h3>PutSecret<a class="headerlink" href="#putsecret" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets help PutSecret
PutSecret
  Store a secret value. Note that this command can only work on a valid server
  machine.
    [userId]                 The user Id of the Admin user
    [secretId]               The Id of the secret
    [secretDescription]      The description of the secret
</pre></div>
</div>
<p>A commandline way of saving or updating secrets. You can leave the <code class="code docutils literal notranslate"><span class="pre">[secretDescription]</span></code> empty by using quotation marks:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets PutSecret centos mySecretId &quot;&quot;
Please enter your Admin password:
New secret value:
Retype new secret value:
Successfully stored the secret.
</pre></div>
</div>
</div>
<div class="section" id="removelegacysecrets">
<span id="deadline-secrets-management-command-removelegacysecrets"></span><h3>RemoveLegacySecrets<a class="headerlink" href="#removelegacysecrets" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets help RemoveLegacySecrets
RemoveLegacySecrets
  Removes existing secrets from the legacy storage locations. Note that you can
  run the &quot;MigrateLegacySecrets&quot; command to migrate existing secrets to the
  Secrets Management locations before you remove from legacy store.
    [userId]                 The user Id of the Admin user
</pre></div>
</div>
<p>This command is run in the installer and is not useful for general use unless working through a manual installation process.</p>
</div>
<div class="section" id="requestkeyrotation">
<span id="deadline-secrets-management-command-requestkeyrotation"></span><h3>RequestKeyRotation<a class="headerlink" href="#requestkeyrotation" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets help RequestKeyRotation
RequestKeyRotation
  Requests a key rotation for the given master key. After a key rotation is
  requested, a valid Server will automatically complete the following: 1) A new
  master key will be generated and assigned to the given Admin user profile. 2)
  All Server profiles will be updated with the new master key. Note that other
  Admin user profiles will NOT be updated with the new master key. To grant the
  key access to other Admins after the key rotation is done, run the
  &quot;GrantKeyAccessToAdmin&quot; command.
    [userId]                 The user Id of the Admin user
    [masterKeyId]            The Id of the master key to be rotated
</pre></div>
</div>
<p>After a rotation request is submitted, the server will rotate the keys. This rotation request would be proccessed within a minute as that is the frequency that the server checks for such requests. Once the server picks up the request, the server will complete the equivalent of what <a class="reference internal" href="#deadline-secrets-management-command-performkeyrotation"><span class="std std-ref">PerformKeyRotation</span></a> command does. This means that you can fast-track the rotation process by running <a class="reference internal" href="#deadline-secrets-management-command-performkeyrotation"><span class="std std-ref">PerformKeyRotation</span></a> after running <a class="reference internal" href="#deadline-secrets-management-command-requestkeyrotation"><span class="std std-ref">RequestKeyRotation</span></a>.</p>
<p>The rotation involves generating a new master key for <code class="code docutils literal notranslate"><span class="pre">[masterKeyId]</span></code> and incrementing the version as can be observed through <a class="reference internal" href="#deadline-secrets-management-command-listallmasterkeys"><span class="std std-ref">ListAllMasterKeys</span></a> before and after execution. The new key version will be given to those servers that already have the most recent version of the key. Finally, the stored secrets will be re-encrypted using this new key.</p>
<p>The GUI version of this command can be found in Deadline Monitor through <cite>Tools</cite> &gt; <cite>Manage Identities…</cite>.</p>
<p>The much more manual approach to this command is done through running <a class="reference internal" href="#deadline-secrets-management-command-disablemasterkey"><span class="std std-ref">DisableMasterKey</span></a>, <a class="reference internal" href="#deadline-secrets-management-command-generatenewmasterkey"><span class="std std-ref">GenerateNewMasterKey</span></a> and then granting the keys to appropriate admins and servers through <a class="reference internal" href="#deadline-secrets-management-command-grantkeyaccesstoadmin"><span class="std std-ref">GrantKeyAccessToAdmin</span></a> and <a class="reference internal" href="#deadline-secrets-management-command-grantkeyaccesstoserver"><span class="std std-ref">GrantKeyAccessToServer</span></a>.</p>
</div>
<div class="section" id="resetadminpassword">
<span id="deadline-secrets-management-command-resetadminpassword"></span><h3>ResetAdminPassword<a class="headerlink" href="#resetadminpassword" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets help ResetAdminPassword
ResetAdminPassword
  Change password for selected admin
    [userId]                 The user Id of the Admin user
    [adminUserIdForPassword] The user Id of the Admin user who will have
                             their password changed
</pre></div>
</div>
<p>Admin <code class="code docutils literal notranslate"><span class="pre">[userId]</span></code> will reset the password of <code class="code docutils literal notranslate"><span class="pre">[adminUserIdForPassword]</span></code>. You can reset your own password:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets ResetAdminPassword centos centos
Please enter your Admin password:
Please enter new password:
Please re-enter the new Admin password again:
Changed password for (centos).
</pre></div>
</div>
</div>
<div class="section" id="removerole">
<span id="deadline-secrets-management-command-removerole"></span><h3>RemoveRole<a class="headerlink" href="#removerole" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets help RemoveRole
RemoveRole
  Remove a role from multiple identities that match the specified IP address
  filter. For unsuccessful removals, a warning message will be displayed.
    [userId]                 The user Id of the Admin user
    [ipAddressFilter]        The filter to match the Identity Source IP
                             address. &quot;*&quot; can be used to match all cases.
                             (i.g. &quot;10.1.1.1&quot; or &quot;10.1.1.*&quot; or &quot;*&quot;)
    [roleToBeRemoved]        The role to be removed. [Client|Server]
</pre></div>
</div>
<p>This command is similar in functionality to <a class="reference internal" href="#deadline-secrets-management-command-assignrole"><span class="std std-ref">AssignRole</span></a>. The only difference is that in this case a role is removed which is specified in <code class="code docutils literal notranslate"><span class="pre">[roleToBeRemoved]</span></code>.</p>
<p>Make sure to wrap <code class="code docutils literal notranslate"><span class="pre">[ipAddressFilter]</span></code> in quotation marks. More examples for IP arguments provided in <a class="reference internal" href="#deadline-secrets-management-command-listallmachines"><span class="std std-ref">ListAllMachines</span></a>.</p>
</div>
<div class="section" id="revokeadminuser">
<span id="deadline-secrets-management-command-revokeadminuser"></span><h3>RevokeAdminUser<a class="headerlink" href="#revokeadminuser" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets help RevokeAdminUser
RevokeAdminUser
  Revoke an admin user
    [userId]                 The user Id of the Admin user
    [adminUserToBeRevoked]   The user Id of the Admin user being revoked by
</pre></div>
</div>
<p>Have admin <code class="code docutils literal notranslate"><span class="pre">[userId]</span></code> revoke an admin <code class="code docutils literal notranslate"><span class="pre">[adminUserToBeRevoked]</span></code>. As an admin you can revoke any other admin except yourself. Run <a class="reference internal" href="#deadline-secrets-management-command-listalladminusers"><span class="std std-ref">ListAllAdminUsers</span></a> Secrets Management DeadlineCommand to find all the admin users.</p>
<p>After an admin user has been revoked, they can no longer access any Secrets Management features.</p>
</div>
<div class="section" id="revokekeyaccessfromserver">
<span id="deadline-secrets-management-command-revokekeyaccessfromserver"></span><h3>RevokeKeyAccessFromServer<a class="headerlink" href="#revokekeyaccessfromserver" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets help RevokeKeyAccessFromServer
RevokeKeyAccessFromServer
  Revokes access of the specified master key from the specified server
    [userId]                 The user Id of the Admin user
    [masterKeyId]            The Id of the master key
    [toServerUserId]         The server to have it&#39;s key access revoked
</pre></div>
</div>
<p>This command is useful for removing the access of a master key from an admin. The admin executing the command needs to have access to the key. This is a more precise version of <a class="reference internal" href="#deadline-secrets-management-command-disablemasterkey"><span class="std std-ref">DisableMasterKey</span></a>.</p>
</div>
<div class="section" id="updateloadbalanceridentityregistrationsetting">
<span id="deadline-secrets-management-command-updateloadbalanceridentityregistrationsetting"></span><h3>UpdateLoadBalancerIdentityRegistrationSetting<a class="headerlink" href="#updateloadbalanceridentityregistrationsetting" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets help UpdateLoadBalancerIdentityRegistrationSetting
  UpdateLoadBalancerIdentityRegistrationSetting &lt;userId&gt; &lt;settingId&gt; &lt;name&gt; &lt;connectingFilterType&gt; &lt;connectingFilterValue&gt; &lt;sourceFilterType&gt; &lt;sourceFilterValue&gt; &lt;defaultRole&gt; &lt;defaultRegistrationStatus&gt; &lt;enabled&gt; [&lt;--password&gt;]
    Updates an identity registration setting to automatically assign a role to
    identities based on their connecting and source IP addresses.
      userId                    The user Id of the Admin user
      settingId                 The unique identifier for the registration
                                setting to modify
      name                      The user-defined name of the registration
                                setting
      connectingFilterType      The type of filter expression for the connecting
                                IP address. Possible values are: &quot;IPv4Match&quot;,
                                &quot;IPRegex&quot;
      connectingFilterValue     The filter expression for the connecting IP
                                address
      sourceFilterType          The type of filter expression for the source IP
                                address. Possible values are: &quot;IPv4Match&quot;,
                                &quot;IPRegex&quot;
      sourceFilterValue         The filter expression for the source IP address
      defaultRole               The default role to apply to the identity.
                                Possible values are: &quot;Client&quot;, &quot;Server&quot;
      defaultRegistrationStatus The registration status that gets applied to a
                                matching identity. Possible values are:
                                &quot;Unknown&quot;, &quot;Pending&quot;, &quot;Registered&quot;, &quot;Revoked&quot;
      enabled                   Whether the registration setting is enabled.
                                Possible values are: &quot;true&quot; or &quot;false&quot;.
      --password                Optional. An option that determines how the
                                Admin password will be read. Value can be either
                                &#39;stdin&#39; or &#39;env:&lt;NAME&gt;&#39;. If stdin, the password
                                will be read from stdin. If env:&lt;NAME&gt; the
                                password will be read from an enviornment
                                variable called &lt;Name&gt;.
</pre></div>
</div>
<p>Use this command to update an existing <a class="reference internal" href="#identity-management-registration-settings-ref-label"><span class="std std-ref">identity registration setting</span></a> that automatically applies a <a class="reference internal" href="#identity-management-roles-ref-label"><span class="std std-ref">role</span></a> and <a class="reference internal" href="#identity-management-status-ref-label"><span class="std std-ref">status</span></a> to an identity based on configurable filter expressions that match the connecting IP address of a load balancer and the forwarded IP address of a Deadline Client.
If the command successfully updates the identity registration setting, the new setting will be output.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets UpdateLoadBalancerIdentityRegistrationSetting admin1 6hF9ZqujhESYQSuQoahdng== newSettingName IPv4Match 1.2.3.4 IPRegex 5.6.7.8 Server Registered true
Please enter your Admin password:
ID                       Name           Connecting IP Filter Type Connecting IP Filter Source IP Filter Type Source IP Filter Default Role Default Status Enabled
======================== ============== ========================= ==================== ===================== ================ ============ ============== =======
6hF9ZqujhESYQSuQoahdng== newSettingName IPv4Match                 1.2.3.4              IPRegex               5.6.7.8          Server       Registered     True
</pre></div>
</div>
</div>
<div class="section" id="updatercsdirectidentityregistrationsetting">
<span id="deadline-secrets-management-command-updatercsdirectidentityregistrationsetting"></span><h3>UpdateRcsDirectIdentityRegistrationSetting<a class="headerlink" href="#updatercsdirectidentityregistrationsetting" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets help UpdateRcsDirectIdentityRegistrationSetting
  UpdateRcsDirectIdentityRegistrationSetting &lt;userId&gt; &lt;settingId&gt; &lt;name&gt; &lt;filterType&gt; &lt;filterValue&gt; &lt;defaultRole&gt; &lt;defaultRegistrationStatus&gt; &lt;enabled&gt; [&lt;--password&gt;]
    Updates an identity registration setting to automatically assign a role to
    identities based on their connecting IP address.
      userId                    The user Id of the Admin user
      settingId                 The unique identifier for the registration
                                setting to modify
      name                      The user-defined name of the registration
                                setting
      filterType                The type of filter expression. Possible values
                                are: &quot;IPv4Match&quot;, &quot;IPRegex&quot;
      filterValue               The filter expression
      defaultRole               The default role to apply to the identity.
                                Possible values are: &quot;Client&quot;, &quot;Server&quot;
      defaultRegistrationStatus The registration status that gets applied to a
                                matching identity. Possible values are:
                                &quot;Unknown&quot;, &quot;Pending&quot;, &quot;Registered&quot;, &quot;Revoked&quot;
      enabled                   Whether the registration setting is enabled.
                                Possible values are: &quot;true&quot; or &quot;false&quot;.
      --password                Optional. An option that determines how the
                                Admin password will be read. Value can be either
                                &#39;stdin&#39; or &#39;env:&lt;NAME&gt;&#39;. If stdin, the password
                                will be read from stdin. If env:&lt;NAME&gt; the
                                password will be read from an enviornment
                                variable called &lt;Name&gt;.
</pre></div>
</div>
<p>Use this command to update an existing <a class="reference internal" href="#identity-management-registration-settings-ref-label"><span class="std std-ref">identity registration setting</span></a> that automatically applies a <a class="reference internal" href="#identity-management-roles-ref-label"><span class="std std-ref">role</span></a> and <a class="reference internal" href="#identity-management-status-ref-label"><span class="std std-ref">status</span></a> to an identity based on a configurable filter expression that matches the connecting IP address of the Deadline Client.
If the command successfully updates the identity registration setting, the new setting will be output.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./deadlinecommand.exe secrets UpdateRcsDirectIdentityRegistrationSetting admin1 lIULr8fDiUeWOkDU68NkDQ== newSettingName IPv4Match 1.2.3.4 Server Registered true
Please enter your Admin password:
ID                       Name           IP Filter Type IP Filter Default Role Default Status Enabled
======================== ============== ============== ========= ============ ============== =======
lIULr8fDiUeWOkDU68NkDQ== newSettingName IPv4Match      1.2.3.4   Server       Registered     True
</pre></div>
</div>
</div>
</div>
<div class="section" id="installation">
<span id="deadline-secrets-management-faq-installation-ref-label"></span><h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="installing-secrets-management-feature">
<h3>Installing Secrets Management Feature<a class="headerlink" href="#installing-secrets-management-feature" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><dl>
<dt>Secrets Management is enabled by running the Repository Installer. Follow the <a class="reference internal" href="../install-db-repo.html#install-db-repo-ref-label"><span class="std std-ref">Repository Installer</span></a> and <a class="reference internal" href="deadline-secrets-management-getting-started.html#deadline-secrets-management-getting-started-ref-label"><span class="std std-ref">Secrets Management Getting Started</span></a> to install the Repository.</dt><dd><div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>You need to enable TLS/SSL Database communication in order to enable Secrets Management Feature.</p>
</div>
</dd>
</dl>
</li>
<li><p>Select the option to install the Deadline Secrets Management feature, and create an initial admin (this is the recommended option).</p></li>
<li><p>Please securely record your administrator password, as there is no way to recover a lost password if there is only one administrator.</p></li>
<li><p>Note that if you forget your password, you will have to reset it by completely reinstalling the Deadline. This step is more detailed in <a class="reference internal" href="#forgetting-secrets-management-password-no-other-admin"><span class="std std-ref">Forgetting a password with no other admin</span></a></p></li>
</ol>
<p>For more details on working with Secrets Management enabled please see <a class="reference internal" href="deadline-secrets-management-getting-started.html#deadline-secrets-management-getting-started-ref-label"><span class="std std-ref">Getting Started</span></a> page.</p>
</div>
<div class="section" id="unattended-mode-installation">
<h3>Unattended mode installation<a class="headerlink" href="#unattended-mode-installation" title="Permalink to this headline">¶</a></h3>
<p>To install Secrets Management in unattended mode, you need to provide next parameters: <code class="code docutils literal notranslate"><span class="pre">--installSecretsManagement</span></code> true, <code class="code docutils literal notranslate"><span class="pre">--secretsAdminName</span></code>, and <code class="code docutils literal notranslate"><span class="pre">--secretsAdminPassword</span></code>.</p>
<ul class="simple">
<li><p>If you want to remove legacy secrets, also set <code class="code docutils literal notranslate"><span class="pre">--removeLegacySecrets</span></code> to true.</p></li>
<li><p>To remove the existing Secrets Management installation, set <code class="code docutils literal notranslate"><span class="pre">--removeSecretsManagement</span></code> to true.</p></li>
</ul>
<p>Examples (Windows, database already installed):</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DeadlineRepository</span><span class="o">-</span><span class="n">windows</span><span class="o">-</span><span class="n">installer</span><span class="o">.</span><span class="n">exe</span> <span class="o">--</span><span class="n">mode</span> <span class="n">unattended</span> <span class="o">--</span><span class="n">installmongodb</span> <span class="n">false</span> <span class="o">--</span><span class="n">secretsAdminName</span> <span class="o">***</span> <span class="o">--</span><span class="n">secretsAdminPassword</span> <span class="o">****</span> <span class="o">--</span><span class="n">dbssl</span> <span class="n">true</span> <span class="o">--</span><span class="n">dbhost</span> <span class="s2">&quot;db-ip-address&quot;</span> <span class="o">--</span><span class="n">dbport</span> <span class="mi">27100</span> <span class="o">--</span><span class="n">dbclientcert</span> <span class="s2">&quot;C:\certs\cert_path.pfx&quot;</span> <span class="o">--</span><span class="n">dbname</span> <span class="s2">&quot;deadline10db&quot;</span> <span class="o">--</span><span class="n">dbauth</span> <span class="s2">&quot;true&quot;</span> <span class="o">--</span><span class="n">installSecretsManagement</span> <span class="s2">&quot;true&quot;</span>
</pre></div>
</div>
</div></blockquote>
<p>See <a class="reference internal" href="../install-db-repo.html#silent-install-ref-label"><span class="std std-ref">Command Line or Silent Installation</span></a> for more information about unattended mode.</p>
</div>
<div class="section" id="upgrade-existing-install-without-secrets-management">
<h3>Upgrade existing install without Secrets Management<a class="headerlink" href="#upgrade-existing-install-without-secrets-management" title="Permalink to this headline">¶</a></h3>
<p>Note that this is strongly not recommended as Deadline’s new Secret Management feature provides the most secure way to store your secret information, such as passwords and API keys.</p>
<ol class="arabic">
<li><p>Follow the <a class="reference internal" href="../install-db-repo.html#install-db-repo-ref-label"><span class="std std-ref">Repository Installer</span></a> documentation to update your Repository.</p></li>
<li><p>You will be prompted with the recommended option to install the Secrets Management feature.</p></li>
<li><p>Select “Skip the Secrets Management installation” and continue with installation as normal.</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/secrets_management_setup.png"><img alt="../../_images/secrets_management_setup.png" src="../../_images/secrets_management_setup.png" style="height: 500px;" /></a>
</div></blockquote>
</li>
</ol>
</div>
<div class="section" id="upgrading-existing-install-while-already-using-secrets-management">
<h3>Upgrading existing install while already using Secrets Management<a class="headerlink" href="#upgrading-existing-install-while-already-using-secrets-management" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p>Follow the <a class="reference internal" href="../install-db-repo.html#install-db-repo-ref-label"><span class="std std-ref">Repository Installer</span></a> documentation to update your Repository.</p></li>
<li><p>The installer will automatically detect that the Secrets Management Feature is enabled.</p></li>
<li><p>Select “Keep the existing Secrets Management Installation” and continue installation as normal.</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/disable_secrets_management.png"><img alt="../../_images/disable_secrets_management.png" src="../../_images/disable_secrets_management.png" style="height: 500px;" /></a>
</div></blockquote>
</li>
</ol>
</div>
</div>
<div class="section" id="managing-identities">
<span id="deadline-secrets-management-faq-managing-identities-ref-label"></span><h2>Managing Identities<a class="headerlink" href="#managing-identities" title="Permalink to this headline">¶</a></h2>
<div class="section" id="registering-revoking-identities-and-adding-removing-roles">
<span id="deadline-secrets-management-faq-registering-revoking-identities"></span><h3>Registering/Revoking Identities and Adding/Removing Roles<a class="headerlink" href="#registering-revoking-identities-and-adding-removing-roles" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>Open the Monitor, connected to the RCS, as Power User, go to the “Tools &gt; Manage Identities…” UI.</p></li>
<li><p>You will be prompted to enter your Administrator credentials, enter them and select “OK”. Note that selecting the “Keep me signed in” option will keep you logged in for as long as the Monitor is open, or until you select the “Tools &gt; Sign Out” button.</p></li>
<li><p>The “Manage Identities” window will open, showing all Identities that have registered themselves to the repository. Each Identity’s status will be set to “Pending”, “Registered”, or “Revoked”.</p></li>
<li><p>To register Identities, select one or multiple Identities with the status “Pending” and select the “Register” button and select “OK”, which changes the status of all selected Identities to “Registered”.</p></li>
<li><p>To grant roles to Identities, select one or multiple registered Identities, select the role(s) you want to grant them, select the “Add” button, then select “OK”.</p></li>
<li><p>To revoke the status for Identities, select multiple Identities with the status “Registered” that you want to revoke, hit the “Revoke” button and select “OK”, which changes the status of all selected Identities to “Revoked”.</p></li>
<li><p>To revoke roles from Identities, select one or multiple registered Identities, select the role(s) you want to revoke from them, select the “Revoke” button, then select “OK”.</p></li>
</ol>
</div>
<div class="section" id="deadline-secrets-management-faq-removing-identities">
<span id="id1"></span><h3>Removing Identities<a class="headerlink" href="#deadline-secrets-management-faq-removing-identities" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>Open the Monitor, connected to the RCS, as Power User, go to the “Tools &gt; Manage Identities…” UI.</p></li>
<li><p>You will be prompted to enter your Administrator credentials, enter them and select “OK”. Note that selecting the “Keep me signed in” option will keep you logged in for as long as the Monitor is open, or until you select the “Tools &gt; Sign Out” button.</p></li>
<li><p>The “Manage Identities” window will open, showing all Identities that have registered themselves to the repository. Each Identity’s status will be set to “Pending”, “Registered”, or “Revoked”.</p></li>
<li><p>To remove Identities, select one or multiple Identities and select the “Remove” button and select “OK”, which will remove the selected Identities from the database.</p></li>
</ol>
</div>
<div class="section" id="automatically-registering-identities-and-adding-roles">
<span id="deadline-secrets-management-faq-auto-registering-identities"></span><h3>Automatically Registering Identities and Adding Roles<a class="headerlink" href="#automatically-registering-identities-and-adding-roles" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>Open the Monitor, connected to the RCS, as Power User, go to the “Tools &gt; Manage Identities…” UI.</p></li>
<li><p>You will be prompted to enter your Administrator credentials, enter them and select “OK”. Note that selecting the “Keep me signed in” option will keep you logged in for as long as the Monitor is open, or until you select the “Tools &gt; Sign Out” button.</p></li>
<li><p>The “Manage Identities” window will open, showing all Identities that have registered themselves to the repository.</p></li>
<li><p>Click the “Registration Settings” tab to view all of your currently configured Identity Registration Settings. These will automatically be applied to any machine the first time it registered.</p></li>
<li><p>Select the “RCS Direct” tab if your clients connect directly to your RCS or the “Load Balancer” tab if your RCS is behind a load balancer.</p></li>
<li><p>To create new settings, simply click the “Add” button, and configure the new setting to match the IP Address or range of IP Addresses of the machines you want to have the default Registration Status and Identity Role.</p></li>
<li><p>You can remove any existing registration settings by clicking one or multiple in the list, and hitting the “Remove” button.</p></li>
<li><p>Once you are done, hit the “OK” button to save your changes.</p></li>
</ol>
</div>
<div class="section" id="on-premise-machines-retrieving-secrets">
<h3>On-premise machines retrieving secrets<a class="headerlink" href="#on-premise-machines-retrieving-secrets" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>Install the Deadline Client onto any number of your on-premises machines.</p></li>
<li><p>Set the Launcher to start a Worker on startup, connecting to the RCS running on your farm.</p></li>
<li><p>After installation, a Worker application starts and automatically registers itself by communicating with the RCS.</p></li>
<li><p>Follow the <a class="reference internal" href="#deadline-secrets-management-faq-registering-revoking-identities"><span class="std std-ref">Registering/Revoking Identities and Adding/Removing Roles</span></a> steps above to grant the desired role to each of the registered machines.</p></li>
</ol>
</div>
<div class="section" id="ec2-retrieving-secrets">
<span id="deadline-secrets-management-faq-ec2-secrets"></span><h3>EC2 retrieving secrets<a class="headerlink" href="#ec2-retrieving-secrets" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>Install the Deadline Client onto any number of your AWS EC2 instances.</p></li>
<li><p>Set the Launcher to start a Worker on startup, connecting to the RCS running on your farm.</p></li>
<li><p>After installation, a Worker application starts and automatically registers itself by communicating with the RCS.</p></li>
<li><p>Follow the <a class="reference internal" href="#deadline-secrets-management-faq-registering-revoking-identities"><span class="std std-ref">Registering/Revoking Identities and Adding/Removing Roles</span></a> steps above to grant the desired role to each of the registered machines.</p></li>
</ol>
</div>
<div class="section" id="spot-fleet-retrieving-secrets">
<span id="deadline-secrets-management-faq-spot-fleet-secrets"></span><h3>Spot fleet retrieving secrets<a class="headerlink" href="#spot-fleet-retrieving-secrets" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>Create a client EC2 instance and grant it the desired role as per the <a class="reference internal" href="#deadline-secrets-management-faq-ec2-secrets"><span class="std std-ref">EC2 retrieving secrets</span></a> steps above. This can be done using a public Thinkbox Worker Amazon Machine Image (AMI), or by installing Deadline onto an EC2 instance manually.</p></li>
<li><p>Then, follow our <a class="reference internal" href="../aws-custom-ami.html#customize-ami-aws-portal-ref-label"><span class="std std-ref">AMI Customization</span></a> guide to create an AMI of that instance.</p></li>
<li><p>Use the newly created AMI when creating the Spot Fleet Request used for the Spot Event Plugin.</p></li>
</ol>
</div>
<div class="section" id="aws-portal">
<span id="deadline-secrets-management-faq-aws-portal-secrets"></span><h3>AWS Portal<a class="headerlink" href="#aws-portal" title="Permalink to this headline">¶</a></h3>
<p>When using AWS Portal with Secrets Management there are multiple options to manage identities:</p>
<ol class="arabic simple">
<li><p>Manually assigning the identity role for each connected AWS Portal worker as per the <a class="reference internal" href="#deadline-secrets-management-faq-registering-revoking-identities"><span class="std std-ref">Registering/Revoking Identities and Adding/Removing Roles</span></a> steps above.</p></li>
<li><p>Creating an Identity Registration setting for the Gateway instance IP for the AWS Portal Infrastructure. See <a class="reference internal" href="#deadline-secrets-management-faq-auto-registering-identities"><span class="std std-ref">Automatically Registering Identities and Adding Roles</span></a> for more information. Note that this will grant the same Identity Role to all AWS Portal workers connecting through the Gateway instance.</p></li>
<li><p>Since the Amazon Machine Images (AMI) provided by Thinkbox do not share an identity, you can follow the <a class="reference internal" href="#deadline-secrets-management-faq-spot-fleet-secrets"><span class="std std-ref">Spot fleet retrieving secrets</span></a> steps above to create a custom AMI that will have a shared identity, requiring no further manual steps.</p></li>
</ol>
</div>
</div>
<div class="section" id="managing-and-rotating-keys">
<span id="deadline-secrets-management-faq-rotating-keys-ref-label"></span><h2>Managing and Rotating Keys<a class="headerlink" href="#managing-and-rotating-keys" title="Permalink to this headline">¶</a></h2>
<p>Deadline Secrets Management is only as strong as the weakest administrator password, therefore we suggest making a strong password, with at least 8 characters which contains at least one lowercase, uppercase, numeric and special character.</p>
<div class="section" id="changing-admin-password">
<h3>Changing admin password<a class="headerlink" href="#changing-admin-password" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>Log onto a machine connected to the Database, that has Deadline Client installed.</p></li>
<li><p>Open a terminal and run the <a class="reference internal" href="#deadline-secrets-management-command-resetadminpassword"><span class="std std-ref">ResetAdminPassword command</span></a>, passing your username, your old password, your username (to denote you want to change your password), and your new password.</p></li>
</ol>
</div>
<div class="section" id="rotating-keys">
<h3>Rotating Keys<a class="headerlink" href="#rotating-keys" title="Permalink to this headline">¶</a></h3>
<p>Either the Deadline Monitor GUI or Deadline Command can be used to rotate the master keys.</p>
<p><strong>Deadline Command</strong></p>
<ol class="arabic simple">
<li><p>Log onto a machine connected to the Database, that has DeadlineCommand installed.</p></li>
<li><dl class="simple">
<dt>Open a terminal and run the <a class="reference internal" href="#deadline-secrets-management-command-requestkeyrotation"><span class="std std-ref">RequestKeyRotation</span></a>, passing your username, your password, and the master key ID.</dt><dd><ul class="simple">
<li><p>If you do not know the master key ID, run the <a class="reference internal" href="#deadline-secrets-management-command-listallmasterkeys"><span class="std std-ref">ListAllMasterKeys command</span></a> to obtain a list of all master keys.</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>If successful, a key rotation will be requested and automatically executed by a running RCS.</p></li>
<li><p>If you wish to start a key rotation immediately, run the <a class="reference internal" href="#deadline-secrets-management-command-performkeyrotation"><span class="std std-ref">PerformKeyRotation command</span></a>, specifying the master key ID.</p></li>
</ol>
<p><strong>Deadline Monitor</strong></p>
<p>See the <a class="reference internal" href="#identity-management-rotating-master-keys-ref-label"><span class="std std-ref">Rotating Master Keys</span></a> section for details about how to access the menu.</p>
</div>
<div class="section" id="forgetting-a-password-with-other-existing-admin">
<h3>Forgetting a password with other existing admin<a class="headerlink" href="#forgetting-a-password-with-other-existing-admin" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>Another administrator logs onto a machine connected to the Database, that has DeadlineCommand installed.</p></li>
<li><p>They open a terminal and run the <a class="reference internal" href="#deadline-secrets-management-command-resetadminpassword"><span class="std std-ref">ResetAdminPassword commmand</span></a>, passing their username and password, and your username and your new temporary password.</p></li>
<li><p>They then securely tell you the new temporary password.</p></li>
<li><p>You can then reset your password using temporary password following the “Changing admin password” steps above.</p></li>
</ol>
</div>
<div class="section" id="forgetting-a-password-with-no-other-admin">
<span id="forgetting-secrets-management-password-no-other-admin"></span><h3>Forgetting a password with no other admin<a class="headerlink" href="#forgetting-a-password-with-no-other-admin" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt>If there are no other administrators, unfortunately there is no way to recover your password. Note that if you forget a password:</dt><dd><ul class="simple">
<li><p>You will lose access to all previously created secrets and master keys.</p></li>
<li><p>The admin password is also required for managing identities. You will be unable to allow client machines to access secrets.</p></li>
</ul>
</dd>
<dt>You will be able to reset your password by removing and installing the Secrets Management feature again. In order to do that:</dt><dd><ol class="arabic simple">
<li><p>Uninstall Deadline Client, AWS Portal Link and Repository by running respective uninstaller executables.</p></li>
<li><p>Run the Deadline <a class="reference internal" href="../install-db-repo.html#install-db-repo-ref-label"><span class="std std-ref">Repository Installer</span></a> with a Secrets Management feature enabled, you will be prompted for a new password.</p></li>
<li><p><a class="reference internal" href="../quick-install-client.html#quick-install-client-ref-label"><span class="std std-ref">Install the Deadline Client</span></a> and AWS Portal Link to reset the secrets.</p></li>
</ol>
</dd>
</dl>
</div>
<div class="section" id="creating-a-new-admin">
<h3>Creating a new admin<a class="headerlink" href="#creating-a-new-admin" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>Log onto a machine connected to the Database that has DeadlineCommand installed.</p></li>
<li><p>Open a terminal and run the <a class="reference internal" href="#deadline-secrets-management-command-createnewadmin"><span class="std std-ref">CreateNewAdmin</span></a> command, passing your username and current password, and the username and temporary password for the new Admin user.</p></li>
<li><p>Securely tell the new Admin user their username and temporary password.</p></li>
<li><p>The new Admin user resets their password following the “Changing admin password” steps above.</p></li>
</ol>
</div>
</div>
<div class="section" id="creating-and-updating-secrets">
<span id="deadline-secrets-management-faq-create-update-secrets-ref-label"></span><h2>Creating and Updating Secrets<a class="headerlink" href="#creating-and-updating-secrets" title="Permalink to this headline">¶</a></h2>
<div class="section" id="storing-secrets-for-plugins-events-repository-settings">
<h3>Storing secrets for plugins/events/repository settings<a class="headerlink" href="#storing-secrets-for-plugins-events-repository-settings" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>Open the Monitor, connected to the RCS, as Power User, go to the Tools &gt; Configure Plugins / Events / Repository Settings.</p></li>
<li><p>Add any secrets for plugins / events / repository setting and select “OK”.</p></li>
<li><p>You will be prompted for your administrator credentials, enter them and select “OK”.</p></li>
</ol>
</div>
<div class="section" id="storing-secret-for-custom-plugin">
<h3>Storing secret for custom plugin<a class="headerlink" href="#storing-secret-for-custom-plugin" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>Create a new plugin following the <a class="reference internal" href="../application-plugins.html#application-plugins-ref-label"><span class="std std-ref">Application Plugin Documentation</span></a>.</p></li>
<li><p>Add the “Password” Control Type to any plugin parameter that needs to be stored securely.</p></li>
<li><p>Upload the new plugin to the Repository.</p></li>
<li><p>Open the Monitor, connected to the RCS, as Power User, go to the Tools &gt; Configure Plugins.</p></li>
<li><p>Find your new plugin, enter the secret values, and hit “OK”.</p></li>
<li><p>You will be prompted for your administrator credentials, enter them and select “OK”.</p></li>
</ol>
</div>
</div>
<div class="section" id="retrieving-secrets">
<span id="deadline-secrets-management-faq-retrieving-secrets-ref-label"></span><h2>Retrieving Secrets<a class="headerlink" href="#retrieving-secrets" title="Permalink to this headline">¶</a></h2>
<div class="section" id="worker-retrieving-secrets">
<h3>Worker retrieving secrets<a class="headerlink" href="#worker-retrieving-secrets" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>An admin user stores secrets following any of the <a class="reference internal" href="#deadline-secrets-management-faq-create-update-secrets-ref-label"><span class="std std-ref">Creating and Updating Secrets</span></a> steps</p></li>
<li><p>Any user starts the Worker application, which automatically registers itself</p></li>
<li><p>An admin follows the <a class="reference internal" href="#deadline-secrets-management-faq-registering-revoking-identities"><span class="std std-ref">Registering/Revoking Identities and Adding/Removing Roles</span></a> steps to set the Identity status to “Registered” and grant the Worker Identity a “Client” role.</p></li>
<li><p>Any user submits a job that requires secrets</p></li>
<li><p>The Worker runs the job, and retrieves any secrets it requires</p></li>
</ol>
</div>
</div>
<div class="section" id="logs">
<span id="deadline-secrets-management-logs-ref-label"></span><h2>Logs<a class="headerlink" href="#logs" title="Permalink to this headline">¶</a></h2>
<p>You can view your logs through the use of the <a class="reference internal" href="#deadline-secrets-management-command-listalllogs"><span class="std std-ref">ListAllLogs</span></a> command.</p>
<p>We generally recommend keeping logs for up to 10 years as a security precaution.</p>
</div>
<div class="section" id="troubleshooting">
<span id="deadline-secrets-management-troubleshooting-ref-label"></span><h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this headline">¶</a></h2>
<div class="section" id="forgot-password">
<h3>Forgot Password<a class="headerlink" href="#forgot-password" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>Please see the <a class="reference internal" href="#deadline-secrets-management-faq-rotating-keys-ref-label"><span class="std std-ref">Rotating Keys</span></a> section for how to rotate your password if other administrators exist.</p>
</div></blockquote>
</div>
<div class="section" id="corrupted-master-key">
<h3>Corrupted master key<a class="headerlink" href="#corrupted-master-key" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>An encrypted version of the master key is assigned to each administrator and server identity that has access to it. Another admin can re-grant the master key to the admin with the corrupted key. If there is only one admin, the secrets will <strong>not</strong> be able to be decrypted; a new master key will need to be made, and new secrets will need to be made. It is due to this risk that we <strong>strongly recommended</strong> you keep <a class="reference internal" href="../db-maintenance.html#mongodb-backup-ref-label"><span class="std std-ref">regular backups of your Database</span></a> so you can recover from a corrupted master key.</p>
</div></blockquote>
</div>
<div class="section" id="connection-errors">
<h3>Connection errors<a class="headerlink" href="#connection-errors" title="Permalink to this headline">¶</a></h3>
<p>If you are getting the error</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Error</span><span class="p">:</span> <span class="n">Repository</span> <span class="n">connection</span> <span class="n">setting</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">Direct</span> <span class="n">connection</span><span class="o">.</span>
</pre></div>
</div>
<p>when running adminstrator commands on your server machine, make sure your connect your Deadline Monitor via Remote Connection - this can be done using DeadlineCommand:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">deadlinecommand</span><span class="o">.</span><span class="n">exe</span> <span class="o">-</span><span class="n">changerepository</span>
</pre></div>
</div>
<p>If this still does not work, then confirm that your <code class="code docutils literal notranslate"><span class="pre">deadline.ini</span></code> file <code class="code docutils literal notranslate"><span class="pre">ConnectionType</span></code> is set to equal <code class="code docutils literal notranslate"><span class="pre">Direct</span></code> and not <code class="code docutils literal notranslate"><span class="pre">Remote</span></code>.</p>
</div>
</div>
<div class="section" id="glossary">
<span id="deadline-secrets-management-glossary-ref-label"></span><h2>Glossary<a class="headerlink" href="#glossary" title="Permalink to this headline">¶</a></h2>
<dl class="glossary simple">
<dt id="term-Identity">Identity<a class="headerlink" href="#term-Identity" title="Permalink to this term">¶</a></dt><dd><p>A user as part of the Secrets Management feature. This is identified by a public key and operating system user for machines, and a username for administrator.</p>
</dd>
<dt id="term-Secret">Secret<a class="headerlink" href="#term-Secret" title="Permalink to this term">¶</a></dt><dd><p>Any sensitive information that should not be shared openly, and might be used to gain access to other systems (e.g., passwords, API keys). See <a class="reference internal" href="#deadline-secrets-management-managed-secrets-ref-label"><span class="std std-ref">Deadline Managed Secrets</span></a> for some examples.</p>
</dd>
<dt id="term-Authentication">Authentication<a class="headerlink" href="#term-Authentication" title="Permalink to this term">¶</a></dt><dd><p>Validates that a user’s actual identity matches their claimed identity.</p>
</dd>
<dt id="term-Authorization">Authorization<a class="headerlink" href="#term-Authorization" title="Permalink to this term">¶</a></dt><dd><p>Validates that a user is allowed to perform a given action.</p>
</dd>
<dt id="term-Server-Application">Server Application<a class="headerlink" href="#term-Server-Application" title="Permalink to this term">¶</a></dt><dd><p>An application that has direct access to the Database used for central storage. In the case of Deadline, this is the <a class="reference internal" href="../remote-connection-server.html#remote-connection-server-ref-label"><span class="std std-ref">Remote Connection Server</span></a>.</p>
</dd>
<dt id="term-Client-Application">Client Application<a class="headerlink" href="#term-Client-Application" title="Permalink to this term">¶</a></dt><dd><p>An application that does not have direct access to the Database used for central storage. Must communicate with a Server application (i.e. the <a class="reference internal" href="../remote-connection-server.html#remote-connection-server-ref-label"><span class="std std-ref">Remote Connection Server</span></a>) to perform business operations.</p>
</dd>
</dl>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/Product_Button_Deadline.png" alt="Logo"/>
            </a></p>
  <h3><a href="../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Deadline Secrets Management</a><ul>
<li><a class="reference internal" href="#identity-management-ref-label">Identity Management</a><ul>
<li><a class="reference internal" href="#registration-status">Registration Status</a></li>
<li><a class="reference internal" href="#assigned-roles">Assigned Roles</a></li>
<li><a class="reference internal" href="#assigning-identity-status-and-roles">Assigning Identity Status and Roles</a></li>
<li><a class="reference internal" href="#removing-identities">Removing Identities</a></li>
<li><a class="reference internal" href="#identity-management-registration-settings-ref-label">Identity Registration Settings</a></li>
<li><a class="reference internal" href="#rotating-master-keys">Rotating Master Keys</a></li>
</ul>
</li>
<li><a class="reference internal" href="#secret">Secret</a><ul>
<li><a class="reference internal" href="#deadline-managed-secrets">Deadline Managed Secrets</a></li>
<li><a class="reference internal" href="#secret-access-levels">Secret Access Levels</a></li>
</ul>
</li>
<li><a class="reference internal" href="#master-key">Master Key</a></li>
<li><a class="reference internal" href="#administrator-commands">Administrator Commands</a><ul>
<li><a class="reference internal" href="#assignrole">AssignRole</a></li>
<li><a class="reference internal" href="#configureservermachine">ConfigureServerMachine</a></li>
<li><a class="reference internal" href="#createinitialadmin">CreateInitialAdmin</a></li>
<li><a class="reference internal" href="#createnewadmin">CreateNewAdmin</a></li>
<li><a class="reference internal" href="#createloadbalanceridentityregistrationsetting">CreateLoadBalancerIdentityRegistrationSetting</a></li>
<li><a class="reference internal" href="#creatercsdirectidentityregistrationsetting">CreateRcsDirectIdentityRegistrationSetting</a></li>
<li><a class="reference internal" href="#deleteloadbalanceridentityregistrationsetting">DeleteLoadBalancerIdentityRegistrationSetting</a></li>
<li><a class="reference internal" href="#deletercsdirectidentityregistrationsetting">DeleteRcsDirectIdentityRegistrationSetting</a></li>
<li><a class="reference internal" href="#disablemasterkey">DisableMasterKey</a></li>
<li><a class="reference internal" href="#disablesecret">DisableSecret</a></li>
<li><a class="reference internal" href="#generatenewmasterkey">GenerateNewMasterKey</a></li>
<li><a class="reference internal" href="#getloadbalanceridentityregistrationsettings">GetLoadBalancerIdentityRegistrationSettings</a></li>
<li><a class="reference internal" href="#getrcsdirectidentityregistrationsettings">GetRcsDirectIdentityRegistrationSettings</a></li>
<li><a class="reference internal" href="#getsecret">GetSecret</a></li>
<li><a class="reference internal" href="#grantkeyaccesstoadmin">GrantKeyAccessToAdmin</a></li>
<li><a class="reference internal" href="#grantkeyaccesstoserver">GrantKeyAccessToServer</a></li>
<li><a class="reference internal" href="#help">Help</a></li>
<li><a class="reference internal" href="#listalladminusers">ListAllAdminUsers</a></li>
<li><a class="reference internal" href="#listalllogs">ListAllLogs</a></li>
<li><a class="reference internal" href="#listallmachines">ListAllMachines</a></li>
<li><a class="reference internal" href="#listallmasterkeys">ListAllMasterKeys</a></li>
<li><a class="reference internal" href="#listallsecrets">ListAllSecrets</a></li>
<li><a class="reference internal" href="#migratesecrets">MigrateSecrets</a></li>
<li><a class="reference internal" href="#performkeyrotation">PerformKeyRotation</a></li>
<li><a class="reference internal" href="#putsecret">PutSecret</a></li>
<li><a class="reference internal" href="#removelegacysecrets">RemoveLegacySecrets</a></li>
<li><a class="reference internal" href="#requestkeyrotation">RequestKeyRotation</a></li>
<li><a class="reference internal" href="#resetadminpassword">ResetAdminPassword</a></li>
<li><a class="reference internal" href="#removerole">RemoveRole</a></li>
<li><a class="reference internal" href="#revokeadminuser">RevokeAdminUser</a></li>
<li><a class="reference internal" href="#revokekeyaccessfromserver">RevokeKeyAccessFromServer</a></li>
<li><a class="reference internal" href="#updateloadbalanceridentityregistrationsetting">UpdateLoadBalancerIdentityRegistrationSetting</a></li>
<li><a class="reference internal" href="#updatercsdirectidentityregistrationsetting">UpdateRcsDirectIdentityRegistrationSetting</a></li>
</ul>
</li>
<li><a class="reference internal" href="#installation">Installation</a><ul>
<li><a class="reference internal" href="#installing-secrets-management-feature">Installing Secrets Management Feature</a></li>
<li><a class="reference internal" href="#unattended-mode-installation">Unattended mode installation</a></li>
<li><a class="reference internal" href="#upgrade-existing-install-without-secrets-management">Upgrade existing install without Secrets Management</a></li>
<li><a class="reference internal" href="#upgrading-existing-install-while-already-using-secrets-management">Upgrading existing install while already using Secrets Management</a></li>
</ul>
</li>
<li><a class="reference internal" href="#managing-identities">Managing Identities</a><ul>
<li><a class="reference internal" href="#registering-revoking-identities-and-adding-removing-roles">Registering/Revoking Identities and Adding/Removing Roles</a></li>
<li><a class="reference internal" href="#deadline-secrets-management-faq-removing-identities">Removing Identities</a></li>
<li><a class="reference internal" href="#automatically-registering-identities-and-adding-roles">Automatically Registering Identities and Adding Roles</a></li>
<li><a class="reference internal" href="#on-premise-machines-retrieving-secrets">On-premise machines retrieving secrets</a></li>
<li><a class="reference internal" href="#ec2-retrieving-secrets">EC2 retrieving secrets</a></li>
<li><a class="reference internal" href="#spot-fleet-retrieving-secrets">Spot fleet retrieving secrets</a></li>
<li><a class="reference internal" href="#aws-portal">AWS Portal</a></li>
</ul>
</li>
<li><a class="reference internal" href="#managing-and-rotating-keys">Managing and Rotating Keys</a><ul>
<li><a class="reference internal" href="#changing-admin-password">Changing admin password</a></li>
<li><a class="reference internal" href="#rotating-keys">Rotating Keys</a></li>
<li><a class="reference internal" href="#forgetting-a-password-with-other-existing-admin">Forgetting a password with other existing admin</a></li>
<li><a class="reference internal" href="#forgetting-a-password-with-no-other-admin">Forgetting a password with no other admin</a></li>
<li><a class="reference internal" href="#creating-a-new-admin">Creating a new admin</a></li>
</ul>
</li>
<li><a class="reference internal" href="#creating-and-updating-secrets">Creating and Updating Secrets</a><ul>
<li><a class="reference internal" href="#storing-secrets-for-plugins-events-repository-settings">Storing secrets for plugins/events/repository settings</a></li>
<li><a class="reference internal" href="#storing-secret-for-custom-plugin">Storing secret for custom plugin</a></li>
</ul>
</li>
<li><a class="reference internal" href="#retrieving-secrets">Retrieving Secrets</a><ul>
<li><a class="reference internal" href="#worker-retrieving-secrets">Worker retrieving secrets</a></li>
</ul>
</li>
<li><a class="reference internal" href="#logs">Logs</a></li>
<li><a class="reference internal" href="#troubleshooting">Troubleshooting</a><ul>
<li><a class="reference internal" href="#forgot-password">Forgot Password</a></li>
<li><a class="reference internal" href="#corrupted-master-key">Corrupted master key</a></li>
<li><a class="reference internal" href="#connection-errors">Connection errors</a></li>
</ul>
</li>
<li><a class="reference internal" href="#glossary">Glossary</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../index-admin-features.html"
                        title="previous chapter">Administrative Features</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="deadline-secrets-management-getting-started.html"
                        title="next chapter">Getting Started With Deadline Secrets Management</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="deadline-secrets-management-getting-started.html" title="Getting Started With Deadline Secrets Management"
             >next</a></li>
        <li class="right" >
          <a href="../index-admin-features.html" title="Administrative Features"
             >previous</a> |</li>
	<li><img src="../../_static/logo.png" alt="Logo" style="vertical-align: middle"/></li>
	<li><a href="https://www.awsthinkbox.com/">AWS Thinkbox</a> &#187;</li>
	<li><a href="https://docs.thinkboxsoftware.com/">Documentation</a> &#187;</li>
	<li><a href="../../index.html">Deadline 10.4.2.2</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="../../index-linear.html" >Index</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../index-admin-features.html" >Administrative Features</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Deadline Secrets Management</a></li> 
      </ul>
    </div>
<div class="footer">
	<a href="https://www.awsthinkbox.com/privacy">Privacy</a> | <a href="https://www.awsthinkbox.com/terms">Site terms</a> | <a href="#" onclick="shortbread.customizeCookies();">Cookie preferences</a>
</div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2025, AWS Thinkbox.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.2.0.
    </div>

  </body>
</html>