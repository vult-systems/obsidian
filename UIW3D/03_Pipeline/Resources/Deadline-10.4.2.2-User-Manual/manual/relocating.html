
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Relocating the Database or Repository &#8212; Deadline 10.4.2.2 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/thinkbox.css" />
    
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Using the Direct Connection type (Not Recommended)" href="direct-connection-install.html" />
    <link rel="prev" title="Importing Repository Settings" href="importing.html" />
 
<script src='/static/shortbreadv1.js'></script>
<script>
    shortbread = AWSCShortbread({domain: ".thinkboxsoftware.com"});
    shortbread.checkForCookieConsent();
</script>

  </head><body>
    
    <div class="header">
    <b>Notice:</b> On November 7, 2025, AWS Thinkbox Deadline 10 will enter maintenance mode. We recommend exploring <a href="https://aws.amazon.com/deadline-cloud/" target="_blank", rel="noopener">AWS Deadline Cloud</a> for render management.<br />
    For questions, contact <a href="mailto:support@awsthinkbox.zendesk.com">support@awsthinkbox.zendesk.com</a> or refer to the <a href="https://docs.thinkboxsoftware.com/products/deadline/latest/1_User%20Manual/manual/maintenance-mode-faq.html", target="_blank", rel="noopener">Maintenance Mode FAQ</a>.
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="direct-connection-install.html" title="Using the Direct Connection type (Not Recommended)"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="importing.html" title="Importing Repository Settings"
             accesskey="P">previous</a> |</li>
	<li><img src="../_static/logo.png" alt="Logo" style="vertical-align: middle"/></li>
	<li><a href="https://www.awsthinkbox.com/">AWS Thinkbox</a> &#187;</li>
	<li><a href="https://docs.thinkboxsoftware.com/">Documentation</a> &#187;</li>
	<li><a href="../index.html">Deadline 10.4.2.2</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="../index-linear.html" >Index</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index-installation-reference.html" accesskey="U">Installation Reference</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Relocating the Database or Repository</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="relocating-the-database-or-repository">
<span id="relocating-ref-label"></span><h1>Relocating the Database or Repository<a class="headerlink" href="#relocating-the-database-or-repository" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>There may come a time where you need to move the Database or Repository (or both) to another location or another machine. This guide will walk you through the steps required.</p>
</div>
<div class="section" id="migrating-the-database">
<h2>Migrating the Database<a class="headerlink" href="#migrating-the-database" title="Permalink to this headline">¶</a></h2>
<p>These are the steps to move your Database to a new location:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Shut down all the Worker applications running on your render nodes. You don’t want them making changes during the move.</p></li>
<li><p>Stop the mongod service/daemon process on the Database machine using adminstrator/root level access, where [VERSION] is the MAJOR version number of Deadline. You can use the standard OS GUI tools or via the command-line.</p></li>
</ol>
<ul>
<li><p><strong>Windows</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sc</span> <span class="n">stop</span> <span class="n">Deadline</span><span class="p">[</span><span class="n">VERSION</span><span class="p">]</span><span class="n">DatabaseService</span>
</pre></div>
</div>
</li>
<li><p><strong>Linux</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">service</span> <span class="n">deadline</span><span class="p">[</span><span class="n">VERSION</span><span class="p">]</span><span class="n">db</span> <span class="n">stop</span>
</pre></div>
</div>
</li>
<li><p><strong>macOS</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">launchctl</span> <span class="n">unload</span> <span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">LaunchDaemons</span><span class="o">/</span><span class="n">org</span><span class="o">.</span><span class="n">mongodb_Deadline</span><span class="p">[</span><span class="n">VERSION</span><span class="p">]</span><span class="n">DatabaseService</span><span class="o">.</span><span class="n">plist</span>
</pre></div>
</div>
</li>
</ul>
<ol class="arabic simple" start="3">
<li><p>Run the Repository Installer on the new machine to setup the mongod service/daemon.</p></li>
<li><p>Stop the mongod service/daemon process on the new Database machine as per above examples so that we can overwrite the otherwise locked files next.</p></li>
<li><p>Copy the Database folder from the original location to the new one.</p></li>
<li><p>Update the <code class="docutils literal notranslate"><span class="pre">config.conf</span></code> file in the data folder to point to the new system log folder and storage folder locations.</p></li>
<li><p>Start the mongod service/daemon process on the new Database machine using adminstrator/root level access, where [VERSION] is the MAJOR version number of Deadline. You can use the standard OS GUI tools or via the command-line.</p></li>
</ol>
<ul>
<li><p><strong>Windows</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sc</span> <span class="n">start</span> <span class="n">Deadline</span><span class="p">[</span><span class="n">VERSION</span><span class="p">]</span><span class="n">DatabaseService</span>
</pre></div>
</div>
</li>
<li><p><strong>Linux</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">service</span> <span class="n">deadline</span><span class="p">[</span><span class="n">VERSION</span><span class="p">]</span><span class="n">db</span> <span class="n">start</span>
</pre></div>
</div>
</li>
<li><p><strong>macOS</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">launchctl</span> <span class="n">load</span> <span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">LaunchDaemons</span><span class="o">/</span><span class="n">org</span><span class="o">.</span><span class="n">mongodb_Deadline</span><span class="p">[</span><span class="n">VERSION</span><span class="p">]</span><span class="n">DatabaseService</span><span class="o">.</span><span class="n">plist</span>
</pre></div>
</div>
</li>
</ul>
<ol class="arabic simple" start="8">
<li><p>Modify the <code class="docutils literal notranslate"><span class="pre">connection.ini</span></code> (dbConnect.xml was deprecated in Deadline 8.0) file in the settings folder in the Repository to set the new database host name or IP address (if you moved it to another machine).</p></li>
<li><p>Start up the Workers and ensure that they can connect to the new Database.</p></li>
</ol>
</div></blockquote>
<p>Here is an example of how you would update the <code class="docutils literal notranslate"><span class="pre">config.conf</span></code> file if you copied the new database location was <code class="docutils literal notranslate"><span class="pre">C:\NEW_DATABASE_FOLDER</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">systemLog</span><span class="p">:</span>
    <span class="n">destination</span><span class="p">:</span> <span class="n">file</span>
    <span class="n">path</span><span class="p">:</span> <span class="n">C</span><span class="p">:</span><span class="o">/</span><span class="n">NEW_DATABASE_FOLDER</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">logs</span><span class="o">/</span><span class="n">log</span><span class="o">.</span><span class="n">txt</span>
    <span class="n">quiet</span><span class="p">:</span> <span class="n">true</span>

<span class="n">storage</span><span class="p">:</span>
    <span class="n">dbPath</span><span class="p">:</span> <span class="n">C</span><span class="p">:</span><span class="o">/</span><span class="n">NEW_DATABASE_FOLDER</span><span class="o">/</span><span class="n">data</span>
</pre></div>
</div>
<p>As Deadline clients use the <code class="docutils literal notranslate"><span class="pre">connection.ini</span></code> (dbConnect.xml was deprecated in Deadline 8.0) file in the Repository to determine the database connection settings, you don’t have to reconfigure the clients to find the new database.</p>
</div>
<div class="section" id="migrating-the-repository">
<h2>Migrating the Repository<a class="headerlink" href="#migrating-the-repository" title="Permalink to this headline">¶</a></h2>
<p>These are the steps to move your Repository to a new location:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Ensure that the share for the new location already exists. Also ensure that the proper user permissions have been set.</p></li>
<li><p>Shut down all the Worker applications running on your render nodes. You don’t want them making changes during the move.</p></li>
<li><p>Copy the Repository folder from the original location to the new location.</p></li>
<li><p>Redirect all your Client machines to point to the new Repository location. Pulse’s <a class="reference internal" href="auto-config.html#auto-config-ref-label"><span class="std std-ref">Auto-Configuration</span></a> can help automate this stage or the <a class="reference internal" href="client-config.html#client-configuration-file-ref-label"><span class="std std-ref">Client Configuration Files</span></a> can be manually edited on each Worker to look at the new repository location.</p></li>
<li><p>Start up the Workers and ensure that they can connect to the new Repository location.</p></li>
<li><p>Delete the original Repository (optional).</p></li>
</ol>
</div></blockquote>
<p>As an alternative to step (4), you can configure your share name (if the new Repository is on the same machine) or your DNS settings (if the new Repository is on a different machine) so that the new Repository location has the same path as the original. This saves you the hassle of having to reconfigure all of your Client machines.</p>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/Product_Button_Deadline.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Relocating the Database or Repository</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#migrating-the-database">Migrating the Database</a></li>
<li><a class="reference internal" href="#migrating-the-repository">Migrating the Repository</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="importing.html"
                        title="previous chapter">Importing Repository Settings</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="direct-connection-install.html"
                        title="next chapter">Using the Direct Connection type (Not Recommended)</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="direct-connection-install.html" title="Using the Direct Connection type (Not Recommended)"
             >next</a></li>
        <li class="right" >
          <a href="importing.html" title="Importing Repository Settings"
             >previous</a> |</li>
	<li><img src="../_static/logo.png" alt="Logo" style="vertical-align: middle"/></li>
	<li><a href="https://www.awsthinkbox.com/">AWS Thinkbox</a> &#187;</li>
	<li><a href="https://docs.thinkboxsoftware.com/">Documentation</a> &#187;</li>
	<li><a href="../index.html">Deadline 10.4.2.2</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="../index-linear.html" >Index</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index-installation-reference.html" >Installation Reference</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Relocating the Database or Repository</a></li> 
      </ul>
    </div>
<div class="footer">
	<a href="https://www.awsthinkbox.com/privacy">Privacy</a> | <a href="https://www.awsthinkbox.com/terms">Site terms</a> | <a href="#" onclick="shortbread.customizeCookies();">Cookie preferences</a>
</div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2025, AWS Thinkbox.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.2.0.
    </div>

  </body>
</html>